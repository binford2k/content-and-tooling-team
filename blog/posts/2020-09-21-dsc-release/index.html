<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/content-and-tooling-team/favicons/favicon.ico><link rel=apple-touch-icon href=/content-and-tooling-team/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/content-and-tooling-team/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/content-and-tooling-team/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/content-and-tooling-team/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/content-and-tooling-team/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/content-and-tooling-team/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/content-and-tooling-team/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/content-and-tooling-team/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/content-and-tooling-team/favicons/android-192x192.png sizes=192x192><title>DSC + Puppet: Arrived! | Content and Tooling</title><meta name=description content="Earlier this year, we announced an upcoming project to drastically improve the story for using DSC Resources with Puppet.
Today, we&rsquo;re …"><meta property="og:title" content="DSC + Puppet: Arrived!"><meta property="og:description" content="Earlier this year, we announced an upcoming project to drastically improve the story for using DSC Resources with Puppet. Today, we&rsquo;re announcing the general availability of that project!
The Puppet.Dsc PowerShell module is now available on the PowerShell Gallery; furthermore, an initial batch of twenty-six PowerShell modules with DSC Resources have been Puppetized and published to the Forge!
We picked several of the most-downloaded modules with DSC Resources released in the last year to start with, but in the coming weeks you should find everything available on the PowerShell Gallery up on the Forge!"><meta property="og:type" content="article"><meta property="og:url" content="https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2020-09-21-dsc-release/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-09-21T00:00:00+00:00"><meta property="article:modified_time" content="2022-03-24T14:02:25+00:00"><meta itemprop=name content="DSC + Puppet: Arrived!"><meta itemprop=description content="Earlier this year, we announced an upcoming project to drastically improve the story for using DSC Resources with Puppet. Today, we&rsquo;re announcing the general availability of that project!
The Puppet.Dsc PowerShell module is now available on the PowerShell Gallery; furthermore, an initial batch of twenty-six PowerShell modules with DSC Resources have been Puppetized and published to the Forge!
We picked several of the most-downloaded modules with DSC Resources released in the last year to start with, but in the coming weeks you should find everything available on the PowerShell Gallery up on the Forge!"><meta itemprop=datePublished content="2020-09-21T00:00:00+00:00"><meta itemprop=dateModified content="2022-03-24T14:02:25+00:00"><meta itemprop=wordCount content="1293"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="DSC + Puppet: Arrived!"><meta name=twitter:description content="Earlier this year, we announced an upcoming project to drastically improve the story for using DSC Resources with Puppet. Today, we&rsquo;re announcing the general availability of that project!
The Puppet.Dsc PowerShell module is now available on the PowerShell Gallery; furthermore, an initial batch of twenty-six PowerShell modules with DSC Resources have been Puppetized and published to the Forge!
We picked several of the most-downloaded modules with DSC Resources released in the last year to start with, but in the coming weeks you should find everything available on the PowerShell Gallery up on the Forge!"><link rel=preload href=/content-and-tooling-team/scss/main.min.708b8eb536aa0debb8b80098b7381547f2d71482d991ac4d1a493e8e52687dc0.css as=style><link href=/content-and-tooling-team/scss/main.min.708b8eb536aa0debb8b80098b7381547f2d71482d991ac4d1a493e8e52687dc0.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-00000000-0','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="td-page td-blog"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/content-and-tooling-team/><span class=navbar-logo><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" id="svg3713" width="30" height="30" viewBox="0 0 30 30.000001" sodipodi:docname="puppet-logo-amber.svg" inkscape:version="0.92.4 (5da689c313, 2019-01-14)"><defs id="defs3717"/><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="2544" inkscape:window-height="1221" id="namedview3715" showgrid="false" inkscape:zoom="9.1657311" inkscape:cx="95.465911" inkscape:cy="-12.96395" inkscape:window-x="-8" inkscape:window-y="-8" inkscape:window-maximized="1" inkscape:current-layer="g3721" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0"/><g id="g3721" inkscape:groupmode="layer" inkscape:label="Puppet-Logo-Mark-Amber" transform="matrix(1.3333333,0,0,-1.3333333,-30.985333,60.985317)"><path d="m32.416539 25.664063h-2.164731v2.16473h2.164731zm-2.164731 17.420479h2.164731v-2.16473h-2.164731zm11.960601-5.463051h-4.96675l.0015.0015-2.66579 2.66579v4.96057h-6.494368v-6.494377h4.966749l2.662712-2.662711.0016.0015v-3.439051l-.0032.0032-2.664205-2.664297v0H28.087v-6.494377h6.494377v4.963577.0l2.664204 2.664297h4.966843z" style="fill:#ffae1a;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:.09330733" id="path3723" inkscape:connector-curvature="0"/></g></svg></span><span class="text-uppercase font-weight-bold">Content and Tooling</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/content-and-tooling-team/pct/><span>PCT</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/content-and-tooling-team/prm/><span>PRM</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/content-and-tooling-team/blog/><span class=active>Blog</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-content-and-tooling-teamblog-li><a href=/content-and-tooling-team/blog/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-content-and-tooling-teamblog><span>Blog</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-content-and-tooling-teamblogposts-li><a href=/content-and-tooling-team/blog/posts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-content-and-tooling-teamblogposts><span>Posts</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogpostsprm-initial-release-li><a href=/content-and-tooling-team/blog/posts/prm-initial-release/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogpostsprm-initial-release><span>Puppet Runtime Manager 0.1.0 Release 🚀</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogposts2021-10-20-fond-farewell-li><a href=/content-and-tooling-team/blog/posts/2021-10-20-fond-farewell/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogposts2021-10-20-fond-farewell><span>A Fond Farewell For Now to Community Day & Norman</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogpostsfuture-of-pdk-li><a href=/content-and-tooling-team/blog/posts/future-of-pdk/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogpostsfuture-of-pdk><span>The future of the Puppet Developer Kit (PDK)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogposts2021-06-04-pct-early-release-li><a href=/content-and-tooling-team/blog/posts/2021-06-04-pct-early-release/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogposts2021-06-04-pct-early-release><span>Puppet Content Templates 0.1.0 🚀</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogposts2021-05-07-running-multinode-modules-gcp-li><a href=/content-and-tooling-team/blog/posts/2021-05-07-running-multinode-modules-gcp/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogposts2021-05-07-running-multinode-modules-gcp><span>Run multi-node module tests with cloud continuous integration (CI) in Google Cloud Platform (GCP)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child"><a href=https://puppetlabs.github.io/content-and-tooling-team/blog/posts/>View More</a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-content-and-tooling-teamblogupdates-li><a href=/content-and-tooling-team/blog/updates/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-content-and-tooling-teamblogupdates><span>Updates</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogupdates2021-10-11-status-update-li><a href=/content-and-tooling-team/blog/updates/2021-10-11-status-update/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogupdates2021-10-11-status-update><span>2021-10-11: IAC & DevX Team Status Update</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogupdates2021-10-04-status-update-li><a href=/content-and-tooling-team/blog/updates/2021-10-04-status-update/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogupdates2021-10-04-status-update><span>2021-10-04: IAC & DevX Team Status Update</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogupdates2021-09-20-status-update-li><a href=/content-and-tooling-team/blog/updates/2021-09-20-status-update/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogupdates2021-09-20-status-update><span>2021-09-20: IAC & DevX Team Status Update</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogupdates2021-09-13-status-update-li><a href=/content-and-tooling-team/blog/updates/2021-09-13-status-update/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogupdates2021-09-13-status-update><span>2021-09-13: IAC & DevX Team Status Update</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-content-and-tooling-teamblogupdates2021-09-06-status-update-li><a href=/content-and-tooling-team/blog/updates/2021-09-06-status-update/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-content-and-tooling-teamblogupdates2021-09-06-status-update><span>2021-09-06: IAC & DevX Team Status Update</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child"><a href=https://puppetlabs.github.io/content-and-tooling-team/blog/updates/>View More</a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/puppetlabs/content-and-tooling-team/edit/main/content/en/blog/posts/2020-09-21-dsc-release.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/puppetlabs/content-and-tooling-team/new/main/content/en/blog/posts/2020-09-21-dsc-release.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href=https://github.com/puppetlabs/content-and-tooling-team/issues/new/choose target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/puppetlabs/content-and-tooling-team/issues/new/choose target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a href=https://github.com/puppetlabs/content-and-tooling-team/discussions/new target=_blank><i class="fas fa-comments fa-fw"></i> Create new discussion topic</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#installing-the-modules>Installing the Modules</a></li></ul></li><li><a href=#puppetizing-a-powershell-module>Puppetizing a PowerShell module</a></li><li><a href=#using-puppetized-modules>Using puppetized modules</a></li><li><a href=#coming-up>Coming Up</a></li></ul></nav></div><script>function revealTags(a){console.log(a);var b=document.getElementsByClassName("hidden");for(let c of b)c.id.split("--")[0]==a&&(c.style.display="inline-block");document.getElementById(a).remove()}</script><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://puppetlabs.github.io/content-and-tooling-team/categories/updates/ data-taxonomy-term=updates><span class=taxonomy-label>updates</span><span class=taxonomy-count>82</span></a></li><li><a class=taxonomy-term href=https://puppetlabs.github.io/content-and-tooling-team/categories/content/ data-taxonomy-term=content><span class=taxonomy-label>content</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=https://puppetlabs.github.io/content-and-tooling-team/categories/tooling/ data-taxonomy-term=tooling><span class=taxonomy-label>tooling</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://puppetlabs.github.io/content-and-tooling-team/categories/team/ data-taxonomy-term=team><span class=taxonomy-label>team</span><span class=taxonomy-count>4</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role=main><div class=td-content><h1>DSC + Puppet: Arrived!</h1><div class="td-byline mb-4">By <b>michaeltlombardi</b> |
<time datetime=2020-09-21 class=text-muted>Monday, September 21, 2020</time></div><header class=article-meta><div class="taxonomy taxonomy-terms-article taxo-categories"><h5 class=taxonomy-title>Categories:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://puppetlabs.github.io/content-and-tooling-team/categories/content/ data-taxonomy-term=content><span class=taxonomy-label>content</span></a></li></ul></div></header><p>Earlier this year, we <a href=https://puppetlabs.github.io/iac/news/roadmap/2020/03/30/dsc-announcement.html>announced an upcoming project</a> to drastically improve the story for using DSC Resources with Puppet.
Today, we&rsquo;re announcing the general availability of that project!</p><p>The <a href=https://github.com/puppetlabs/Puppet.Dsc><code>Puppet.Dsc</code> PowerShell module</a> is now available on the <a href=https://www.powershellgallery.com/packages/Puppet.Dsc>PowerShell Gallery</a>;
furthermore, an initial batch of <strong>twenty-six</strong> PowerShell modules with DSC Resources have been Puppetized and <a href=https://forge.puppet.com/dsc>published to the Forge</a>!</p><p>We picked several of the most-downloaded modules with DSC Resources released in the last year to start with, but in the coming weeks you should find <em>everything</em> available on the PowerShell Gallery up on the Forge!</p><p>But today, in addition to sharing this news, I want to go into a bit more detail, both with what&rsquo;s going on under the hood and with how you can use these auto-generated modules.</p><h3 id=installing-the-modules>Installing the Modules</h3><p>If you just want to get your hands on the PowerShell module to read the help and experiment on your own, you can install it like any other PowerShell module:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=color:#8be9fd;font-style:italic>Install-Module</span> -Name Puppet.Dsc
<span style=color:#8be9fd;font-style:italic>Import-Module</span> -Name Puppet.Dsc
<span style=color:#8be9fd;font-style:italic>Get-Command</span> -Module Puppet.Dsc
<span style=color:#8be9fd;font-style:italic>Get-Help</span> -Name <span style=color:#8be9fd;font-style:italic>New-PuppetDscModule</span> -ShowWindow
</code></pre></div><p>Some of the functions from the PowerShell module rely on the <a href=https://puppet.com/docs/pdk/1.x/pdk.html>Puppet Development Kit (PDK)</a> being installed;
we suggest using <a href=https://chocolatey.org/>Chocolatey</a> to do so, but you can also <a href=https://puppet.com/try-puppet/puppet-development-kit/>manually download and install</a> if you prefer.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>choco install pdk
</code></pre></div><p>If you want to do the same sort of thing with one of the Puppetized modules from the forge, you can install them and treat them just like any other Puppet module:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#6272a4># For example, installing the Puppetized ComputerManagementDsc module manually:</span>
puppet module install dsc-computermanagementdsc --Version 8.4.0-0-0
<span style=color:#6272a4># Or via r10k / Code Manager / Bolt:</span>
mod <span style=color:#f1fa8c>&#39;dsc-computermanagementdsc&#39;</span>, <span style=color:#f1fa8c>&#39;8.4.0-0-0&#39;</span>
</code></pre></div><h2 id=puppetizing-a-powershell-module>Puppetizing a PowerShell module</h2><p>So, you want to turn a PowerShell module with DSC Resources into a Puppet module?
You can do this with a single command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=color:#6272a4># If you run this command without the PassThru flag it returns nothing to the output stream.</span>
<span style=color:#6272a4># Any conversion errors will be in the error stream, as usual.</span>
<span style=color:#6272a4># If you&#39;d like a deeper look at what it&#39;s doing, try running it with the Verbose flag.</span>
<span style=color:#8be9fd;font-style:italic>New-PuppetDscModule</span> -PowerShellModuleName ComputerManagementDsc -PassThru
</code></pre></div><p>Unfortunately, the output from running it isn&rsquo;t all that exciting:</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/new-puppetdscmodule.png alt="Output from a PowerShell console showing the running of the command above as well as the return output, which is the folder object representing the new Puppet module on disk"></p><p>Behind the scenes, the command:</p><ol><li>Uses the <a href=https://puppet.com/docs/pdk/1.x/pdk.html>PDK</a> to create a new Puppet module</li><li>Searches the <a href=https://www.powershellgallery.com>PowerShell Gallery</a> for the ComputerManagementDsc module and vendor it into the new Puppet module</li><li>Converts each of the DSC Resources from the vendored PowerShell module into a Puppet Resource API type and provider</li><li>Updates the Puppet module&rsquo;s metadata and documentation based on the PowerShell module.</li></ol><blockquote><p>At this time, for best results we strongly recommend you run the command with administrator privileges in a Windows PowerShell 5.1 session.
While it <em>does</em> work without administrator privileges, the function cannot fully map nested CIM instances without administrator privileges.
For more information on this process, check out the <a href=https://github.com/puppetlabs/Puppet.Dsc/blob/main/docs/about_Puppetization.md><code>about_Puppetization</code> HelpFile</a> via <code>Get-Help</code> for a more in-depth documentation of this process.</p></blockquote><h2 id=using-puppetized-modules>Using puppetized modules</h2><p>On the one hand, there&rsquo;s not much to say about using the Puppetized modules with DSC Resources;
you use them <em>precisely</em> like any other Puppet module, after all.
On the other hand, there&rsquo;s some strong utility worth going over in more detail you may or may not be aware of!</p><p>To get the most value from your workflow, we <strong>strongly</strong> recommend you author your manifests that include Puppetized DSC Resources in <a href=https://code.visualstudio.com/>VSCode</a> with the <a href=https://puppet-vscode.github.io/>Puppet extension</a> enabled.</p><p>When we open a file named <code>example.pp</code> to edit, the Puppet extension automatically begins to load;
once this is finished, we have access to a ton of useful authoring support, including intellisense.</p><p>For example, if we&rsquo;ve installed the <code>computermanagementdsc</code> Puppet module, we need only type <code>dsc_execution</code> before IntelliSense kicks in and helps us out:</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/intellisense-resource.png alt="A VSCode window showing the text &lsquo;dsc_execution&rsquo; has raised a tooltip which lists multiple possible matches, including dsc_powershellexecutionpolicy, and to the right it shows the help information for this resource."></p><p>Note that it tells us not just what available resources might match, it also displays the available documentation for each resource.</p><p>We also get IntelliSense for each property we want to pass, too;
again, this doesn&rsquo;t just show the available options but also includes any available documentation for each property.</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/intellisense-property.png alt="A VSCode window showing the text &lsquo;dsc&rsquo; inside a Puppet resource declaration for dsc_powershellexecutionpolicy, with a tooltip listing the possible properties, including dsc_executionpolicy and dsc_executionpolicyscope; as before, the help information (now including valid values) is to the right."></p><p>You can also review the documentation for a property by hovering over it:</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/docs-property.png alt="A VSCode window showing an empty declaration for &lsquo;dsc_executionpolicy&rsquo; with the mouse hovering over that key, displaying a tooltip which includes the documentation and valid values for the property."></p><p>Where this combination really begins to sing is when you&rsquo;ve begun authoring a manifest and something goes wrong.</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/problems.png alt="A VSCode window showing a fully defined manifest with markings to highlight issues."></p><p>The image above shows that the file name in the left-hand pane has changed colors and is now red.
It also underscores two entries in the manifest that VSCode has highlighted - one with orange underlining, indicating a warning, and one with red underlining, indicating an error.
Finally, down in the bottom left corner it highlights the problem symbols for errors and warnings, both of which display a count of one.</p><p>VSCode (via the extension) knows <em>something</em> is wrong with our manifest;
we can click on those symbols to bring up the Problems Pane and investigate:</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/problems-pane.png alt="A VSCode window displaying the Problems Pane with two entries"></p><p>This tells us there&rsquo;s a warning about the indentation of a hash rocket and some sort of syntax error preventing the extension from parsing line 3.</p><p>A quick look at the code tells us that we&rsquo;re missing a comma in the resource declaration on line 2, and as soon as we add that comma in we get confirmation:</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/problems-added-comma.png alt="A VSCode window displaying the Problems Pane with only one warning"></p><p>All that remains now is the formatting issue.
Luckily, VSCode is able to automatically handle this for us via the <em>Format Document</em> command:</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/format-document-option.png alt="A VSCode window displaying the right-click menu over the manifest, highlighting the &lsquo;Format Document&rsquo; command with a hotkey combination of &lsquo;Shift+Alt+F&rsquo;"></p><p>Which we can see does in fact move the hash rocket and resolve our last problem:</p><p><img src=/content-and-tooling-team/assets/2020-09-21-dsc-release/manifest-fixed.png alt="A VSCode window displaying the manifest with no issues or warnings, the hash rocket moved appropriately to ensure preferred formatting for the manifest."></p><p>We&rsquo;re ready to apply this manifest!</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>puppet apply ./example.pp
</code></pre></div><p>Only&mldr; there was a problem;
without reading the documentation for <code>dsc_executionpolicyscope</code> thoroughly enough, we specified <code>Machine</code> instead of <code>MachinePolicy</code>!</p><p>Puppet gives us back a pretty good error message though:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>Error: Parameter dsc_executionpolicyscope failed on Dsc_powershellexecutionpolicy[[OPS-213]]: dsc_powershellexecutionpolicy.dsc_executionpolicyscope expects a match for Enum[&#39;CurrentUser&#39;, &#39;LocalMachine&#39;, &#39;MachinePolicy&#39;, &#39;Process&#39;, &#39;UserPolicy&#39;], got &#39;Machine&#39;
</code></pre></div><p>We get an explicit list of the allowed values <em>before</em> it tries to invoke DSC with the <code>Set</code> action.
This is unlike our prior implementation in <code>puppetlabs-dsc_lite</code>, which has no way of knowing whether the values you&rsquo;ve provided are correct.</p><p>Once we correct our manifest to specify <code>LocalMachine</code> and re-run the command, we get something else:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>Notice: Compiled catalog for michael.lombardi-pf12aa84 in environment workstation_production in 1.04 seconds
Notice: /Stage[main]/Main/Dsc_powershellexecutionpolicy[[OPS-213]]/dsc_executionpolicy: dsc_executionpolicy changed &#39;Unrestricted&#39; to &#39;RemoteSigned&#39;
Notice: dsc_powershellexecutionpolicy[{:name=&gt;&#34;[OPS-213]&#34;, :dsc_executionpolicyscope=&gt;&#34;LocalMachine&#34;}]: Updating: Finished in 0.809555 seconds
Notice: Applied catalog in 1.68 seconds
</code></pre></div><p>This highlights a change from both of our prior implementations:
you now get <em>property-by-property</em> reporting for DSC Resources when using Puppet!
This implementation knows not just <em>that</em> a DSC Resource was out of sync and therefore applied, but it can tell you exactly which properties were out of sync, what their value was, and what it has been set to in this run.</p><p>This brings DSC Resources in line with all of the rest of the resources you manage with Puppet and drastically improves the usefulness of your run reports!</p><h2 id=coming-up>Coming Up</h2><p>This wave of converted DSC Resources and the release of the <code>Puppet.Dsc</code> module to the PowerShell Gallery is not the <em>last</em> step of our support for using DSC with Puppet, just the initial step.</p><p>Over the coming weeks we&rsquo;re going to be looking to you for feedback and incorporating it as fast as we can manage.</p><p>We&rsquo;re also moving towards automatically Puppetizing <em>every</em> PowerShell module with DSC Resources on the Gallery.
If there&rsquo;s a module you want to use that isn&rsquo;t yet published under our <a href=https://forge.puppet.com/dsc><strong>dsc</strong> namespace on the Forge</a>, let us know in <a href=https://slack.puppet.com/>Slack</a> or by <a href=mailto:dsc@puppet.com>emailing us</a> and we&rsquo;ll publish it as soon as we can!</p><p>In the long run, we plan to get some nightly builds in place to ensure that there&rsquo;s never more than a 24 hour lag between when a PowerShell module with DSC Resources is published (new or merely updated) to the Gallery and when that same module is Puppetized and published to the Forge.</p><p>We hope to hear from you soon!</p><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/content-and-tooling-team/blog/posts/2020-07-03-apache-mod-test-improvements/ aria-label="Previous - Apache MOD Test Maintenance" class="btn btn-primary"><span class=mr-1>←</span>Previous</a></li><a href=/content-and-tooling-team/blog/posts/2020-09-23-docker-params-change-detection/ aria-label="Next - Docker params change detection" class="btn btn-primary">Next<span class=ml-1>→</span></a></li></ul></div></main></div></div><footer class="py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/puppetize aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://puppetcommunity.slack.com/ aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/puppetlabs/content-and-tooling-team aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Puppet All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script><script src=/content-and-tooling-team/js/tabpane-persist.js></script><script src=/content-and-tooling-team/js/main.min.20a756bd86e5baf68cf7cef0159a97a60c58d42f04b8b13448fe311997b49fda.js integrity="sha256-IKdWvYbluvaM987wFZqXpgxY1C8EuLE0SP4xGZe0n9o=" crossorigin=anonymous></script></body></html>