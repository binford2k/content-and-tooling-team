<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Content and Tooling – Windows</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog_tags/windows/</link><description>Recent content in Windows on Content and Tooling</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Fri, 21 May 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://puppetlabs.github.io/content-and-tooling-team/blog_tags/windows/index.xml" rel="self" type="application/rss+xml"/><item><title>Blog: 2021-05-21: IAC &amp; DevX Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2021-05-21-status-update/</link><pubDate>Fri, 21 May 2021 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2021-05-21-status-update/</guid><description>
&lt;h2 id="community-support-day">Community Support Day&lt;/h2>
&lt;p>The IAC Team processed 91 community PRs/issues across modules and tools.&lt;/p>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>We&amp;rsquo;d like to thank the following people in the Puppet Community for their contributions over this past week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/provision/pull/166">&lt;code>provision#166&lt;/code>&lt;/a>: &amp;ldquo;(REPLATS-169) Add a timestamp to abs job_id&amp;rdquo;, thanks to &lt;a href="https://github.com/jpartlow">jpartlow&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2152">&lt;code>puppetlabs-apache#2152&lt;/code>&lt;/a>: &amp;ldquo;(MODULES-11068) Allow apache::vhost ssl_honorcipherorder to take boolean parameter&amp;rdquo;, thanks to &lt;a href="https://github.com/davidc">davidc&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2150">&lt;code>puppetlabs-apache#2150&lt;/code>&lt;/a>: &amp;ldquo;support for uri for severname with use_servername_for_filenames&amp;rdquo;, thanks to &lt;a href="https://github.com/Zarne">Zarne&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2145">&lt;code>puppetlabs-apache#2145&lt;/code>&lt;/a>: &amp;ldquo;(MODULES-11061) mod_security custom rule functionality&amp;rdquo;, thanks to &lt;a href="https://github.com/k2patel">k2patel&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-firewall/pull/993">&lt;code>puppetlabs-firewall#993&lt;/code>&lt;/a>: &amp;ldquo;Fixed link to REFERENCE.md&amp;rdquo;, thanks to &lt;a href="https://github.com/Samgarr">Samgarr&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1266">&lt;code>puppetlabs-postgresql#1266&lt;/code>&lt;/a>: &amp;ldquo;MODULES-11047 - Allow managing rights for PUBLIC role&amp;rdquo;, thanks to &lt;a href="https://github.com/mtancoigne">mtancoigne&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/pdk-templates/pull/436">&lt;code>pdk-templates#436&lt;/code>&lt;/a>: &amp;ldquo;added more fine-grained control of custom_before_steps&amp;rdquo;, thanks to &lt;a href="https://github.com/skoef">skoef&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/pdk-templates/pull/434">&lt;code>pdk-templates#434&lt;/code>&lt;/a>: &amp;ldquo;added blog_tags to .gitlab-ci.yml.erb&amp;rdquo;, thanks to &lt;a href="https://github.com/skoef">skoef&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppet-strings/pull/266">&lt;code>puppet-strings#266&lt;/code>&lt;/a>: &amp;ldquo;Only set tasks = true when parsing plans.&amp;rdquo;, thanks to &lt;a href="https://github.com/binford2k">binford2k&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Check &lt;a href="https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2021-01-20-reaching-out.md">all the ways to reach us&lt;/a> if you want to directly contact us about anything module related.&lt;/p>
&lt;h2 id="new-module--gem-releases">New Module / Gem Releases&lt;/h2>
&lt;p>The following modules were released this week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-stdlib">&lt;code>puppetlabs-stdlib&lt;/code>&lt;/a> (&lt;code>7.1.0&lt;/code>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache">&lt;code>puppetlabs-apache&lt;/code>&lt;/a> (&lt;code>6.1.0&lt;/code>)&lt;/li>
&lt;/ul>
&lt;p>The following gems were released this week:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://rubygems.org/gems/puppet-strings">&lt;code>puppet-strings&lt;/code>&lt;/a> (&lt;code>2.7.0&lt;/code>)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://rubygems.org/gems/puppet-modulebuilder">&lt;code>puppet-modulebuilder&lt;/code>&lt;/a> (&lt;code>0.3.0&lt;/code>)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://rubygems.org/gems/rspec-puppet">&lt;code>rspec-puppet&lt;/code>&lt;/a> (&lt;code>2.9.0&lt;/code>)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="life-of-an-intern-at-puppet">Life of an intern at Puppet&lt;/h2>
&lt;p>&lt;a href="https://github.com/Disha-maker">Disha&lt;/a> continues her journey at Puppet and &lt;a href="https://puppetlabs.github.io/iac/docs/life_of_intern">here&lt;/a> you can find the last updates of ** Life of an intern at Puppet ** .&lt;/p>
&lt;h2 id="spring-cleaning-guide">Spring Cleaning Guide&lt;/h2>
&lt;p>&lt;a href="https://dev.to/raphink">Raphaël Pinson&lt;/a> of &lt;a href="https://www.camptocamp.com">Camptocamp&lt;/a> fame has published a guide to &lt;a href="https://dev.to/camptocamp-ops/cleaning-up-puppet-code-4da2">Cleaning up Puppet Code&lt;/a> using puppet-lint, the PDK and unused code detection using their puppet-ghostbuster project.
Check it out for a breath of fresh air in your control repo.&lt;/p>
&lt;h2 id="devx-templates-and-rspec-puppet">DevX: Templates and rspec-puppet&lt;/h2>
&lt;p>We&amp;rsquo;re making good progress on the limited availability release of the new templating feature for PDK and are still on track to have this available at the end of the month.
Alongside that, we released version &lt;code>v2.9.0&lt;/code> of &lt;code>rspec-puppet&lt;/code>.
Many thanks to &lt;a href="https://github.com/DavidS">David Schmitt&lt;/a> for his help in getting this over the line!&lt;/p>
&lt;h2 id="kubernetes-120-and-sonobuoy-conformance-testing">Kubernetes 1.20 and Sonobuoy Conformance Testing&lt;/h2>
&lt;p>We are very close to finish the certification for our k8s module with 1.20 version.
First we added support for the new version and now we&amp;rsquo;re working with AWS for Sonobuoy k8s conformance testing, if you&amp;rsquo;re interested in how we&amp;rsquo;re doing check out &lt;a href="https://github.com/puppetlabs/puppetlabs-kubernetes/pull/512">the PR&lt;/a>!&lt;/p>
&lt;h2 id="dropsonde-transition-to-the-iac-team">Dropsonde transition to the IAC Team&lt;/h2>
&lt;p>This week was really interesting.
&lt;a href="https://dev.to/binford2k/telemetry-that-doesn-t-suck-na2">Dropsonde&lt;/a> is a flexible framework for collecting metrics from puppet installations.
Deploying this will provide insight into how modules are used for the community.
We have just finished the Level of Effort and have broken down the work into &lt;a href="https://tickets.puppetlabs.com/browse/IAC-1608">small tasks&lt;/a> to enable a successful transition.
We have now started a deep dive and 2 PRs have been submitted to the &lt;a href="https://github.com/puppetlabs/dropsonde">dropsonde repo&lt;/a>.
Will will continue to provide weekly updates on the hottest tool currently on our plate!&lt;/p>
&lt;h2 id="dsc-going-live">DSC: Going Live&lt;/h2>
&lt;p>We have some exciting news for you about Puppet&amp;rsquo;s support for the PowerShell DSC configuration framework for Windows.
In short, content from the PowerShell Gallery will simply appear on the Puppet Forge and can be added to your Puppetfile and used just like any other Puppet module.
This makes it by far the most flexible and maintainable iteration of DSC integration we&amp;rsquo;ve ever had.
Pick and choose whatever DSC Resources you want and get all the VSCode IntelliSense magic you&amp;rsquo;ve come to expect.
Read more on &lt;a href="https://puppet.com/blog/powershell-dsc-the-next-generation/">the puppet blog&lt;/a>&lt;/p>
&lt;h2 id="windows-long-paths-in-ruby">Windows Long Paths in Ruby&lt;/h2>
&lt;p>During our ongoing work for integrating with DSC, we stubbed our toes hard against an old, familiar frenemy in ruby: long path support on Windows.
Windows has supported paths longer than 260 characters for &lt;em>years&lt;/em> now, but Ruby couldn&amp;rsquo;t ever take advantage of that.
If you needed long file paths in your code, you had to specify the LFN NTFS syntax (prepending&lt;code>\\?\&lt;/code>) which was&amp;hellip; not very friendly or memorable.
Luckily however, &lt;a href="https://github.com/GabrielNagy">Gabriel Nagy&lt;/a> submitted a &lt;a href="https://github.com/ruby/ruby/pull/4505">patch to core ruby&lt;/a> which was merged this week which just solves this problem for everyone (who uses a release of ruby which includes the patch)!
As long as your modern Windows systems are configured for long path support, Ruby will now happily work with 300+ character paths, no sweat!
This is &lt;em>huge&lt;/em> for Windows users and developers on Ruby, which also means Windows users and developers of Puppet!
We really can&amp;rsquo;t overstate what a thorn in our foot this has been how grateful we are to Gabi for resolving it.&lt;/p></description></item><item><title>Blog: Converting to use Puppetized DSC Modules</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2021-01-26-converting-puppetized-dsc-modules/</link><pubDate>Tue, 26 Jan 2021 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2021-01-26-converting-puppetized-dsc-modules/</guid><description>
&lt;h2 id="whats-new-with-dsc-and-puppet">What&amp;rsquo;s new with DSC and Puppet?&lt;/h2>
&lt;p>To check out our reasons on why we think converting your module is a good idea, check out these blog posts written by &lt;a href="https://github.com/michaeltlombardi">Michael&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://puppetlabs.github.io/iac/news/roadmap/2020/03/30/dsc-announcement.html">DSC accouncement post&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://puppetlabs.github.io/iac/news/roadmap/2020/09/21/dsc-release.html">DSC release post&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>The blog posts cover information including:&lt;/p>
&lt;ul>
&lt;li>Why we are doing this&lt;/li>
&lt;li>Details about the builder&lt;/li>
&lt;li>How to Pupperize your Powershell module&lt;/li>
&lt;li>How to use your Puppetized module&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Seriously though what is there to not love?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Minimal module maintainence costs&lt;/li>
&lt;li>Automated module building&lt;/li>
&lt;li>Property by property reporting&lt;/li>
&lt;li>VSCode Extension with intellisense&lt;/li>
&lt;li>We have 68 modules on the Forge in the &lt;a href="https://forge.puppet.com/dsc">DSC namespace&lt;/a>&lt;/li>
&lt;li>Converting is relatively straight forward&lt;/li>
&lt;/ul>
&lt;h2 id="so-how-can-i-do-this">So how can I do this?&lt;/h2>
&lt;p>&lt;em>Old method:&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-puppet" data-lang="puppet">&lt;span style="color:#50fa7b">mod&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;puppetlabs-dsc&amp;#39;&lt;/span>, &lt;span style="color:#f1fa8c">&amp;#39;1.9.4&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>New method:&lt;/em>&lt;/p>
&lt;p>Add entries for &lt;code>puppetlabs-pwshlib&lt;/code> and the &lt;code>dsc-*&lt;/code> modules whose resources you want to use to your puppetfile.
The entries on the list below are the &lt;em>closest&lt;/em> match for the resources found in the old &lt;code>puppetlabs-dsc&lt;/code> module; while we specified versions here, remember: there have been releases to the DSC modules since the &lt;code>puppetlabs-dsc&lt;/code> last had its resources updated, so there are newer versions you may want to take advantage of (just be sure to test thoroughly when upgrading)!&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Note:&lt;/strong> You want to &lt;em>very specifically&lt;/em> only add the necessary &lt;code>dsc-*&lt;/code> module pins to your puppetfile; if you&amp;rsquo;re not using any of the resources contained in a module, there&amp;rsquo;s no need to specify it and take on the overhead of shipping the code around.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>mod 'puppetlabs-pwshlib', '0.7.1'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-activedirectorycsdsc', '3.1.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-auditpolicydsc', '1.4.0-0-1'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-certificatedsc', '4.4.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-computermanagementdsc', '6.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-dfsdsc', '4.3.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-networkingdsc', '7.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-officeonlineserverdsc', '1.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-securitypolicydsc', '2.7.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-sharepointdsc', '3.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-sqlserverdsc', '12.3.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-storagedsc', '4.5.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-systemlocaledsc', '1.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xactivedirectory', '2.24.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xazure', '0.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xazurepack', '1.4.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xbitlocker', '1.4.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xcredssp', '1.3.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xdatabase', '1.9.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xdefender', '0.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xdhcpserver', '2.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xdisk', '1.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xdismfeature', '1.3.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xdnsserver', '1.11.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xexchange', '1.27.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xfailovercluster', '1.12.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'ddsc-xhyper_v', '3.16.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xinternetexplorerhomepage', '1.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xjea', '0.2.16-6-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xmysql', '2.1.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xpendingreboot', '0.4.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xphp', '1.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xpowershellexecutionpolicy', '3.1.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xpsdesiredstateconfiguration', '8.5.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xremotedesktopadmin', '1.1.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xremotedesktopsessionhost', '1.8.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xrobocopy', '2.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xscdpm', '1.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xscom', '1.3.3-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xscsma', '2.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xscspf', '1.3.1-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xscsr', '1.3.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xscvmm', '1.2.4-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xsmbshare', '2.1.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xsqlps', '1.4.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xtimezone', '1.8.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xwebadministration', '2.5.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xwebdeploy', '1.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xwindowseventforwarding', '1.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xwindowsrestore', '1.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xwindowsupdate', '2.7.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xwineventlog', '1.2.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-xwordpress', '1.1.0-0-0'&lt;/code>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Note that the versions for the &lt;code>dsc-*&lt;/code> modules are all 5-digits long.
The first four digits are a match for the puppetized PowerShell module&amp;rsquo;s own version - so &lt;code>1.4.0-0-0&lt;/code> represents a PowerShell module at version &lt;code>1.4.0.0&lt;/code> on the PowerShell Gallery.
The fifth digit is the &lt;em>Puppetized Build Increment&lt;/em> for that version; that goes up whenever we rebuild the module to fix a bug or add a feature to the Puppet interface to the DSC Resource.
In general, you&amp;rsquo;ll &lt;em>almost always&lt;/em> want the latest build of a module.
So even though we specify Puppet Build Increments of &lt;code>0&lt;/code> in the list above, make sure to choose the latest build for the PowerShell module version you want to use.&lt;/p>
&lt;/blockquote>
&lt;h2 id="a-few-caveats">A few caveats&lt;/h2>
&lt;p>The following modules cannot be automatically puppetized at the same version because they referenced commit SHAs instead of versions discoverable on the &lt;a href="https://www.powershellgallery.com">gallery;&lt;/a>
instead, we recommend using the next released stable version after those SHA&amp;rsquo;s, as listed below:&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>&lt;strong>Note:&lt;/strong> These are close but not precise replacements:&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>mod 'dsc-fsrmdsc', '2.5.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-iscsidsc', '2.0.0-0-0'&lt;/code>&lt;/li>
&lt;li>&lt;code>mod 'dsc-wsmandsc', '2.4.0-0-0'&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Here are links to the specific commit SHAs that have been referenced:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://github.com/dsccommunity/FSRMDsc/commit/8945f610fa9a6f7f920260abf4e50d91db25bac0">FSRMDsc&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://github.com/dsccommunity/iSCSIDsc/commit/2208ad24a0cc0a85ce19fb377e72fbc21d366587">iSCSIDsc&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://github.com/dsccommunity/wsmandsc/commit/1aa6400e7ffa1932505bf9904a7ce9e147af9c45">WSManDsc&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;em>&lt;strong>Note:&lt;/strong> puppetized as &lt;code>dsc/wminamespacesecurity&lt;/code> due to the name of the module changing when pushed to the &lt;a href="https://www.powershellgallery.com">PowerShell Gallery&lt;/a> vs the old code repository.&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>mod 'dsc-wminamespacesecuritydsc', '0.3.0-0-0'&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Again here is a link to the specific commit SHA that has been referenced:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/PowerShell/WmiNamespaceSecurityDsc/commit/d49daa4c18f12aabf32fd60631d927c6d276a453">WmiNamespaceSecurityDsc&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="guidance-on-troubleshooting">Guidance on troubleshooting&lt;/h2>
&lt;p>Coincidentally, &lt;a href="https://github.com/michaeltlombardi">Michael&lt;/a> has just published a blog post on how to troubleshoot for DSC.&lt;/p>
&lt;p>Check it out on our &lt;a href="https://puppetlabs.github.io/iac/">blog page&lt;/a>!&lt;/p>
&lt;h2 id="some-things-come-for-free">Some things come for free!&lt;/h2>
&lt;p>We suggest using the Puppet VSCode extension as it comes built in with an auto-completer. This will help you keep your pins up to date with the puppetfile resolver.&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2021-01-26-converting-dsc-modules/puppetfile-resolver.gif" alt="Showing validation errors in your Puppetfile">&lt;/p>
&lt;h2 id="what-else-is-coming">What else is coming&lt;/h2>
&lt;p>As part of our next phase we plan to flesh out and update our testing infrastructure for this module on our road to the &lt;code>1.0.0&lt;/code> release of &lt;code>Puppet.Dsc&lt;/code>.
In the pipeline, we still plan on getting nightly builds into place to ensure that there is never more than a 24 hour lag between published Powershell modules with DSC Resources and our Puppetized modules on the Forge.&lt;/p>
&lt;p>As always if you have any questions don&amp;rsquo;t hesistate to reach out to us via &lt;a href="https://slack.puppet.com/">Slack&lt;/a> or &lt;a href="mailto:dsc@puppet.com">emailing&lt;/a> and we will be as accomodating as we can be!&lt;/p></description></item><item><title>Blog: Reaching the IAC Team</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2021-01-20-reaching-out/</link><pubDate>Wed, 20 Jan 2021 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2021-01-20-reaching-out/</guid><description>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2021-01-20-reaching-out/hello.png" alt="hello">{:height=&amp;ldquo;170px&amp;rdquo; width=&amp;ldquo;170px&amp;rdquo;}&lt;/p>
&lt;p>To improve collaboration and avoid issues falling through the cracks, we have collected information on all the ways to get in contact with us. Whether this be to review a PR, highlight a nasty bug or really for any other reason, let us know what we did well, and what we need to do better.&lt;/p>
&lt;h2 :height="30px" width="30px" id="monday-is-community-day-slackcontent-and-tooling-teamassets2021-01-20-reaching-outcalendarpng">Monday is Community Day &lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2021-01-20-reaching-out/calendar.png" alt="slack">&lt;/h2>
&lt;p>Yes, that&amp;rsquo;s right! The whole team dedicates a full day to you every week. Every Monday we go over pull requests, releases, new issues and anything else module related.&lt;/p>
&lt;h2 :height="45px" width="45px" id="reaching-out-via-slack-slackcontent-and-tooling-teamassets2021-01-20-reaching-outslackpng">Reaching out via Slack &lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2021-01-20-reaching-out/slack.png" alt="slack">&lt;/h2>
&lt;p>As part of Community Monday, we have weekly office hours on Monday 1.00pm and 5.00pm GMT alternating each week. Check the &lt;a href="https://puppet.com/community/office-hours">calendar&lt;/a> for the events in your timezone. Join #office-hours on our &lt;a href="https://puppetcommunity.slack.com">community-slack&lt;/a>. Between these hours the IAC team will be online and can chat about anything module related and much more!&lt;/p>
&lt;p>Outside the office hours, some of us hang out in #forge-modules and #testing on our &lt;a href="https://puppetcommunity.slack.com">community-slack&lt;/a>. Even if nobody from the team is around, other community members might be able to help.&lt;/p>
&lt;p>&lt;strong>Use the &lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2021-01-20-reaching-out/sos.gif" alt="sos">{:height=&amp;ldquo;50px&amp;rdquo; width=&amp;ldquo;50px&amp;rdquo;}
emoji on urgent issues that require the attention of a puppet employee.&lt;/strong>&lt;/p>
&lt;h2 :height="40px" width="40px" id="reaching-out-via-jirahttpsticketspuppetlabscombrowsemodules-bugcontent-and-tooling-teamassets2021-01-20-reaching-outbugpng">Reaching out via &lt;a href="https://tickets.puppetlabs.com/browse/MODULES">Jira&lt;/a> &lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2021-01-20-reaching-out/bug.png" alt="bug">&lt;/h2>
&lt;p>A link to raising an issue using Jira can be found &lt;a href="https://tickets.puppetlabs.com/browse/MODULES">here&lt;/a>.&lt;/p>
&lt;p>When you come across an issue with one of our supported modules and want to raise an issue, in order for to it to come directly to us there are a few things we would doing first.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Confirm this issue hasn&amp;rsquo;t already been raised by using the JIRA search function&lt;/p>
&lt;/li>
&lt;li>
&lt;p>If the repository has issues enabled, use this instead of JIRA&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Once the above has been confirmed, it is recommended that you complete the following settings in the ticket. This will ensure that our team sees the ticket pretty quick.&lt;/p>
&lt;p>The values we would recommend setting are:&lt;/p>
&lt;p>&lt;code>Project:&lt;/code> This will always need set to &lt;strong>&amp;lsquo;Modules&amp;rsquo;&lt;/strong> if you want it to land with our team.&lt;/p>
&lt;p>&lt;code>Issue Type:&lt;/code> In most cases you will be raising bugs against our supported modules however you can choose the description that best suits your problem.&lt;/p>
&lt;p>&lt;code>Summary:&lt;/code> Just a quick simple summary of the topic you are looking to highlight to us.&lt;/p>
&lt;p>&lt;code>Component:&lt;/code> This is used to tag the module affected and ensure the correct person sees your issue.&lt;/p>
&lt;p>&lt;code>Description:&lt;/code> This is one of the most important sections, add in here as much details as you possibly can, this should include:&lt;/p>
&lt;pre>&lt;code>1) Description of the issue you are seeing
2) Steps to Reproduce
3) Expected Results
4) Actual Results
5) Logs/Screenshots/Sample Manifests - in particular, logs generated with the --trace and --debug flags
&lt;/code>&lt;/pre>
&lt;p>For more information on writing a good bug report check out this page on &lt;a href="https://rubygarage.org/blog/how-to-write-a-quality-bug-report">RubyGarage&lt;/a>.&lt;/p>
&lt;p>&lt;code>Environment:&lt;/code> What OS did did you see it on? Which puppet version is affected? What is the module version? You can even include more information like the Ruby version. Again the more information you include here, the higher likelihood of us being able to reproduce and speed up our turnaround.&lt;/p>
&lt;p>&lt;code>Acceptance Criteria:&lt;/code> What exactly do you want to be able to achieve with the issue being resolved?&lt;/p>
&lt;h2 :height="40px" width="40px" id="some-things-just-cant-wait-clockcontent-and-tooling-teamassets2021-01-20-reaching-outclockpng">Some things just can&amp;rsquo;t wait &lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2021-01-20-reaching-out/clock.png" alt="clock">&lt;/h2>
&lt;p>If you ever find yourself in this position please don&amp;rsquo;t hesitate to reach out to our team using email and we will do our best to help you out. Our team alias is: &lt;a href="mailto:ia_content@puppet.com">ia_content@puppet.com&lt;/a>.&lt;/p>
&lt;h2 :height="40px" width="40px" id="useful-tips-magiccontent-and-tooling-teamassets2021-01-20-reaching-outmagicpng">Useful Tips &lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2021-01-20-reaching-out/magic.png" alt="magic">&lt;/h2>
&lt;ul>
&lt;li>All supported modules have an examples directory with example manifests&lt;/li>
&lt;li>If your struggling to write a manifest check out our tests in &lt;code>spec/acceptance&lt;/code>&lt;/li>
&lt;li>We have a some demos uploaded on &lt;a href="https://www.youtube.com/user/PuppetLabsInc">youtube&lt;/a>!&lt;/li>
&lt;/ul>
&lt;h2 id="other-team-contacts">Other team contacts&lt;/h2>
&lt;h3 id="security-team">Security Team&lt;/h3>
&lt;p>For security critical information use &lt;a href="mailto:security@puppet.com">security@puppet.com&lt;/a>.&lt;/p>
&lt;p>&lt;em>Your alert will be handled by our security specialists and routed to the right team. See also the &lt;a href="https://puppet.com/security/">security page&lt;/a> on puppet.com.&lt;/em>&lt;/p>
&lt;h3 id="bolt-team">Bolt Team&lt;/h3>
&lt;p>Use the issues tab &lt;a href="https://github.com/puppetlabs/bolt/issues">on the repo&lt;/a>.&lt;/p>
&lt;h3 id="puppet-agent-team">Puppet Agent Team&lt;/h3>
&lt;p>&lt;a href="mailto:team-nw@puppet.com">team-nw@puppet.com&lt;/a>&lt;/p>
&lt;h3 id="forge-team">Forge Team&lt;/h3>
&lt;p>&lt;a href="mailto:forge@puppet.com">forge@puppet.com&lt;/a>&lt;/p></description></item><item><title>Blog: 2021-01-08: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2021-01-08-status-update/</link><pubDate>Fri, 08 Jan 2021 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2021-01-08-status-update/</guid><description>
&lt;h2 id="happy-new-year">Happy New Year!&lt;/h2>
&lt;p>On behalf whole IAC team we would like to take the opportunity to wish all readers a Happy New Year! We hope you all had a great Christmas. The team took the opportunity enjoy the holidays, recharge our batteries and are now ready to tackle 2021 head on.&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-01-08-status-update/2021.jpg" alt="2021">&lt;/p>
&lt;h2 id="happy-new-tp">Happy New TP!&lt;/h2>
&lt;p>TP Honey has returned to the IAC team. &lt;a href="https://github.com/tphoney">TP&lt;/a> has been with Puppet for quite a while and has worked on multiple teams. This week we see him return to the IAC team to lend some expertise. &lt;a href="https://github.com/tphoney">TP&lt;/a> specialises in all things modules and has been a leader in the development of &lt;a href="https://github.com/puppetlabs/puppet_litmus">litmus&lt;/a>. We are so delighted to have him onboard with us and you will see him around a lot more. You may recognise &lt;a href="https://github.com/tphoney">TP&lt;/a> as he has done some pretty cool Puppetize talks. Check out one of my favourites called &lt;a href="https://www.youtube.com/watch?v=FYfR7ZEGHoE">Litmus and PDK&lt;/a>.&lt;/p>
&lt;h2 id="happy-new-network-modules">Happy New Network (Modules)&lt;/h2>
&lt;p>2021 is going to see the IAC Team invest in more work with our networking modules. This will begin with the Cisco IOS module with the aim to increase the amount of device support and also improve the testing with a potentially very interesting project - stay tuned!&lt;/p>
&lt;h2 id="our-first-triage-monday-of-2021">Our first triage Monday of 2021&lt;/h2>
&lt;p>Half of the team were on PTO, however the remainder of the team powered through and as a result processed a total of 15 PRs between them on both our tooling and module repos. Such a positive start to the year.&lt;/p>
&lt;h2 id="migration-of-our-modules-to-gcp">Migration of our modules to GCP&lt;/h2>
&lt;p>The majority of our modules have now been migrated to GCP. To check the status of our modules you can see them on our &lt;a href="https://puppetlabs.github.io/community_management/">community management page&lt;/a>. Any module that does not have a status is yet to be migrated although it is worthwhile noting, the outstanding modules are our most complex modules.&lt;/p>
&lt;p>Currently our module status report is showing 96% passing, all of the 4% of failures are being tracked or worked on so we are constantly working on improving this.&lt;/p>
&lt;h2 id="update-from-our-intern">Update from our intern&lt;/h2>
&lt;p>Check out Dishas journey during the first week of 2021 &lt;a href="https://puppetlabs.github.io/iac/docs/life_of_intern.html">here&lt;/a>.&lt;/p>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>We&amp;rsquo;d like to thank the following people in the Puppet Community for their contributions over this past week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/provision/pull/152">&lt;code>provision#152&lt;/code>&lt;/a>: &amp;ldquo;(CISC-973) Handle vars in gcp provisioner&amp;rdquo;, thanks to &lt;a href="https://github.com/HelenCampbell">HelenCampbell&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/provision/pull/149">&lt;code>provision#149&lt;/code>&lt;/a>: &amp;ldquo;README.md: update link to Litmus documentation; spelling corrections&amp;rdquo;, thanks to &lt;a href="https://github.com/kenyon">kenyon&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-accounts/pull/340">&lt;code>puppetlabs-accounts#340&lt;/code>&lt;/a>: &amp;ldquo;(MODULES-10867) Ensure ssh key name is unique based on type, content and description&amp;rdquo;, thanks to &lt;a href="https://github.com/mdklapwijk">mdklapwijk&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2093">&lt;code>puppetlabs-apache#2093&lt;/code>&lt;/a>: &amp;ldquo;Add ssl_user_name vhost parameter&amp;rdquo;, thanks to &lt;a href="https://github.com/bodgit">bodgit&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-mysql/pull/1348">&lt;code>puppetlabs-mysql#1348&lt;/code>&lt;/a>: &amp;ldquo;Repair check of logbindir&amp;rdquo;, thanks to &lt;a href="https://github.com/qha">qha&lt;/a> and the following people who helped get it over the line (&lt;a href="https://github.com/gnif">gnif&lt;/a>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1214">&lt;code>puppetlabs-postgresql#1214&lt;/code>&lt;/a>: &amp;ldquo;Clean up definition of pg_hba rules&amp;rdquo;, thanks to &lt;a href="https://github.com/blackknight36">blackknight36&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-scheduled_task/pull/175">&lt;code>puppetlabs-scheduled_task#175&lt;/code>&lt;/a>: &amp;ldquo;(MODULES-10893) Fix Last Day Of Month Trigger&amp;rdquo;, thanks to &lt;a href="https://github.com/RandomNoun7">RandomNoun7&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/camptocamp/facterdb/pull/166">&lt;code>facterdb#166&lt;/code>&lt;/a>: &amp;ldquo;Drop EOL Ruby version from CI matrix&amp;rdquo;, thanks to &lt;a href="https://github.com/bastelfreak">bastelfreak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/camptocamp/facterdb/pull/165">&lt;code>facterdb#165&lt;/code>&lt;/a>: &amp;ldquo;facts_spec: Pathname class is missing&amp;rdquo;, thanks to &lt;a href="https://github.com/lelutin">lelutin&lt;/a> and the following people who helped get it over the line (&lt;a href="https://github.com/mcanevet">mcanevet&lt;/a>)&lt;/li>
&lt;li>&lt;a href="https://github.com/camptocamp/facterdb/pull/163">&lt;code>facterdb#163&lt;/code>&lt;/a>: &amp;ldquo;release 1.6.0&amp;rdquo;, thanks to &lt;a href="https://github.com/bastelfreak">bastelfreak&lt;/a> and the following people who helped get it over the line (&lt;a href="https://github.com/mcanevet">mcanevet&lt;/a>)&lt;/li>
&lt;li>&lt;a href="https://github.com/camptocamp/facterdb/pull/162">&lt;code>facterdb#162&lt;/code>&lt;/a>: &amp;ldquo;Archlinux: Update fact sets&amp;rdquo;, thanks to &lt;a href="https://github.com/bastelfreak">bastelfreak&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppet_litmus/pull/360">&lt;code>puppet_litmus#360&lt;/code>&lt;/a>: &amp;ldquo;(maint) But will it fail?&amp;rdquo;, thanks to &lt;a href="https://github.com/da-ar">da-ar&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Please swing by our &lt;a href="https://puppet.com/community/office-hours/">office hours on Monday&lt;/a> on Slack if you want to directly contact us about anything module related.&lt;/p>
&lt;h2 id="new-module--gem-releases">New Module / Gem Releases&lt;/h2>
&lt;p>The following modules were released this week:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="http://github.com/puppetlabs/puppetlabs-mysql">&lt;code>puppetlabs-mysql&lt;/code>&lt;/a> (&lt;code>10.9.1&lt;/code>)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://github.com/puppetlabs/puppetlabs-scheduled_task">&lt;code>puppetlabs-scheduled_task&lt;/code>&lt;/a> (&lt;code>2.3.1&lt;/code>)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://github.com/puppetlabs/puppetlabs-tagmail/">&lt;code>puppetlabs-tagmail&lt;/code>&lt;/a> (&lt;code>3.5.0&lt;/code>)&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Blog: 2020-12-18: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-12-18-status-update/</link><pubDate>Fri, 18 Dec 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-12-18-status-update/</guid><description>
&lt;h2 id="christmas-edition">Christmas edition&lt;/h2>
&lt;p>Puppet is getting ready for the Virtual Chirstmas Party.
Santa, Food, Drinks, Sweets, Gaming, Charades and many more.&lt;/p>
&lt;p>The holiday season upon us, the IAC team would like to wish all of Puppet&amp;rsquo;s Open Source Community Happy Holidays and thank everyone for their contributions through the very challenging year of 2020.
The IAC team will be taking a well earned break to recharge the batteries, and we hope you can too.
We look forward to the continued open source communities help and contributions in 2021.&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-12-18-status-update/christmas.jpg" alt="Christmas">&lt;/p>
&lt;p>This week has been wild.
Lots of community contributions, lots of releases, DSC updates, removing inappropriate language, Cloud CI progress and more! Check out below for the details.&lt;/p>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>We&amp;rsquo;d like to thank the following people in the Puppet Community for their contributions over this past week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2090">&lt;code>puppetlabs-apache#2090&lt;/code>&lt;/a>: &amp;ldquo;Add support for mod_md&amp;rdquo;, thanks to &lt;a href="https://github.com/smortex">smortex&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apt/pull/962">&lt;code>puppetlabs-apt#962&lt;/code>&lt;/a>: &amp;ldquo;backports.pp: correct example&amp;rdquo;, thanks to &lt;a href="https://github.com/kenyon">kenyon&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-docker/pull/692">&lt;code>puppetlabs-docker#692&lt;/code>&lt;/a>: &amp;ldquo;fixing issue #689 by setting HOME in docker command&amp;rdquo;, thanks to &lt;a href="https://github.com/sdinten">sdinten&lt;/a> and the following people who helped get it over the line (&lt;a href="https://github.com/deubert-it">deubert-it&lt;/a>, &lt;a href="https://github.com/ahoiroman">ahoiroman&lt;/a>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-kubernetes/pull/460">&lt;code>puppetlabs-kubernetes#460&lt;/code>&lt;/a>: &amp;ldquo;Support installing containerd using a package&amp;rdquo;, thanks to &lt;a href="https://github.com/treydock">treydock&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-vsphere/pull/196">&lt;code>puppetlabs-vsphere#196&lt;/code>&lt;/a>: &amp;ldquo;Update REFERENCE.md&amp;rdquo;, thanks to &lt;a href="https://github.com/ola-pt">ola-pt&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/pdk/pull/930">&lt;code>pdk#930&lt;/code>&lt;/a>: &amp;ldquo;Update Rakefile to use ABS as hypervisor&amp;rdquo;, thanks to &lt;a href="https://github.com/sbeaulie">sbeaulie&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/pdk/pull/921">&lt;code>pdk#921&lt;/code>&lt;/a>: &amp;ldquo;Add ability to generate new facts&amp;rdquo;, thanks to &lt;a href="https://github.com/logicminds">logicminds&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/pdk-docker/pull/13">&lt;code>pdk-docker#13&lt;/code>&lt;/a>: &amp;ldquo;(PF-2215) Add entrypoint for Anubis lint evaluation&amp;rdquo;, thanks to &lt;a href="https://github.com/nkanderson">nkanderson&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/pdk-planning/pull/75">&lt;code>pdk-planning#75&lt;/code>&lt;/a>: &amp;ldquo;(MAINT) Fix up ruby version for github actions&amp;rdquo;, thanks to &lt;a href="https://github.com/scotje">scotje&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>On Community Monday we processed 9 PRs (3 on tooling and 6 on modules).
The slow pace day enabled the team to focus on releasing content and we released 6 modules as part of Triage day. Please note this is the last triage day until the New Year.&lt;/p>
&lt;h2 id="new-module--gem-releases---puppet-7-support">New Module / Gem Releases - Puppet 7 support&lt;/h2>
&lt;p>Our supported modules are now officially compatible with Puppet 7.
We&amp;rsquo;re committed to rolling out the module releases as fast as we can, incorporating as many valuable changes as possible from the Community in to the releases too.
Some modules pushed to the Forge so far, are:&lt;/p>
&lt;p>The following modules were released this week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/accounts">puppetlabs/accounts&lt;/a> (v6.4.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/concat">puppetlabs/concat&lt;/a> (v6.4.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/docker">puppetlabs/docker&lt;/a> (v3.13.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/haproxy">puppetlabs/haproxy&lt;/a> (v4.5.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/java">puppetlabs/java&lt;/a> (v6.5.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/java_ks">puppetlabs/java_ks&lt;/a> (v3.4.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/kubernetes">puppetlabs/kubernetes&lt;/a> (v5.5.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/motd">puppetlabs/motd&lt;/a> (v4.3.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/mysql">puppetlabs/mysql&lt;/a> (v10.9.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/ntp">puppetlabs/ntp&lt;/a> (v8.5.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/puppet_conf">puppetlabs/puppet_conf&lt;/a> (v0.8.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/pwshlib">puppetlabs/pwshlib&lt;/a> (v0.6.3)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/scheduled_task">puppetlabs/scheduled_task&lt;/a> (v2.3.1)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/service">puppetlabs/service&lt;/a> (v1.4.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/tomcat">puppetlabs/tomcat&lt;/a> (v4.3.0)&lt;/li>
&lt;/ul>
&lt;p>Again, we applied the principle &amp;ldquo;Team work, dream work&amp;rdquo;.
On Wednesday during a team show and tell session, together we successfully released 15 modules for this week.
Many thanks to the entire team for the hard work!&lt;/p>
&lt;h2 id="rubocop-update">Rubocop Update&lt;/h2>
&lt;p>As announced &lt;a href="https://puppetlabs.github.io/iac/team/status/2020/12/11/status-update.html#preparing-for-pdk-20">last week&lt;/a> we released &lt;a href="https://github.com/puppetlabs/puppet-module-gems/blob/main/CHANGELOG.md#100">puppet-module-gems v1.0.0&lt;/a> with some significant updates.
&lt;a href="https://github.com/puppetlabs/pdk-templates">pdk-templates#main&lt;/a> is also seeing some updates to support this.
Most visible is the update to the latest rubocop release (from rubocop 0.49, released over three years ago).
We&amp;rsquo;re still tweaking the ruleset as we roll out the changes to our modules.
If you try it out and find something annoying, inconvenient or outright stupid, please don&amp;rsquo;t hesitate to send us a message to &lt;a href="mailto:ia_content@puppet.com">the team&lt;/a> with an example so we can fix it before the PDK 2.0 release.&lt;/p>
&lt;h2 id="github-action-update">Github Action Update&lt;/h2>
&lt;p>A huge shout-out to &lt;a href="https://github.com/kvrhdn">Koenraad&lt;/a>, the maintainer of &lt;a href="https://github.com/kvrhdn/gha-buildevents">kvrhdn/gha-buildevents&lt;/a>.
This github action is part of our effort to capture all CI happenings in a single Honeycomb dataset.
Last week we contributed a few changes (&lt;a href="https://github.com/kvrhdn/gha-buildevents/pull/19">#19&lt;/a>, &lt;a href="https://github.com/kvrhdn/gha-buildevents/pull/18">#18&lt;/a>) to improve the flexibility and what data is captured.
With those changes merged, we&amp;rsquo;re one step closer to our goal.&lt;/p>
&lt;h2 id="customer-bugs">Customer bugs&lt;/h2>
&lt;p>One new ticket has been raised against scheduled_task &lt;a href="https://tickets.puppetlabs.com/browse/MODULES-10893">MODULES-10893&lt;/a>, Big thank you to &lt;a href="https://github.com/RandomNoun7">Bill&lt;/a> for helping the team out and putting up a &lt;a href="https://github.com/puppetlabs/puppetlabs-scheduled_task/pull/175">PR&lt;/a> for this issue. Thanks &lt;a href="https://github.com/sanfrancrisko">Ciaran&lt;/a> for the quick review, merge and release of the module.
Once an IAC team member will always be an IAC team member cheers &lt;a href="https://github.com/RandomNoun7">Bill&lt;/a>.&lt;/p>
&lt;h2 id="tales-from-the-intern">Tales from the Intern&lt;/h2>
&lt;p>Disha&amp;rsquo;s week 16 was very busy too. Find out more information &lt;a href="https://puppetlabs.github.io/iac/docs/life_of_intern.html">on her blog&lt;/a>&lt;/p>
&lt;h2 id="content-cloud-ci-project">Content Cloud CI Project&lt;/h2>
&lt;p>This week we have 32 of the IAC supported modules running nightlies and part of the PR testing on the Cloud CI services.
We have worked on a couple of stability issues and in the past 24 hours, the nightlies ran 427 jobs and encountered a total of 15 failures.
We also improved the provision error tracking. Out of those 15 failures none seem to be related to provisioning.
Over the last 7 days, we created 5888 VMs for testing purposes compared to 4613, the week before that.
We will continue to improve the service and the reporting early next year.&lt;/p>
&lt;h2 id="dsc">DSC&lt;/h2>
&lt;p>DSC is gathering momentum. We&amp;rsquo;re now up to 51 &lt;a href="https://forge.puppet.com/dsc">new DSC modules&lt;/a> on the Forge. With every new module, we learn more and harden the solution.&lt;/p>
&lt;h2 id="inappropriate-terminology">Inappropriate Terminology&lt;/h2>
&lt;p>With everything else going on, we do not want to forget our effort to remove exclusive and inappropriate terminology from our code base. Here&amp;rsquo;s the current progress:&lt;/p>
&lt;ul>
&lt;li>38 modules updated&lt;/li>
&lt;li>4 in progress&lt;/li>
&lt;li>11 remaining&lt;/li>
&lt;/ul>
&lt;p>That&amp;rsquo;s 76% completed.&lt;/p></description></item><item><title>Blog: 2020-12-11: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-12-11-status-update/</link><pubDate>Fri, 11 Dec 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-12-11-status-update/</guid><description>
&lt;p>This week has been wild. Lots of community contributions, lots of releases, DSC updates, removing inappropriate language, Cloud CI progress, PDK 2.0, and more! Check out below for the details.&lt;/p>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>We&amp;rsquo;d like to thank the following people in the Puppet Community for their contributions over this past week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/provision/pull/143">&lt;code>provision#143&lt;/code>&lt;/a>: &amp;ldquo;(feat) Allow for passing docker runtime options&amp;rdquo;, thanks to &lt;a href="https://github.com/jarretlavallee">jarretlavallee&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2104">&lt;code>puppetlabs-apache#2104&lt;/code>&lt;/a>: &amp;ldquo;(fix) Convert unnecessary multi line warnings to single lines&amp;rdquo;, thanks to &lt;a href="https://github.com/rj667">rj667&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2103">&lt;code>puppetlabs-apache#2103&lt;/code>&lt;/a>: &amp;ldquo;(MODULES-10887) Set &lt;code>use_servername_for_filenames&lt;/code> for defaults&amp;rdquo;, thanks to &lt;a href="https://github.com/towo">towo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-iis/pull/301">&lt;code>puppetlabs-iis#301&lt;/code>&lt;/a>: &amp;ldquo;MODULES-10884 Allow a UNC path as the physical path of a web site&amp;rdquo;, thanks to &lt;a href="https://github.com/palintir">palintir&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1201">&lt;code>puppetlabs-postgresql#1201&lt;/code>&lt;/a>: &amp;ldquo;Change - Use systemd drop-in directory for unit overrides&amp;rdquo;, thanks to &lt;a href="https://github.com/blackknight36">blackknight36&lt;/a> and the following people who helped get it over the line (&lt;a href="https://github.com/maage">maage&lt;/a>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-scheduled_task/pull/171">&lt;code>puppetlabs-scheduled_task#171&lt;/code>&lt;/a>: &amp;ldquo;(DOCS) update docs to match the code.&amp;rdquo;, thanks to &lt;a href="https://github.com/binford2k">binford2k&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/pdk-vanagon/pull/270">&lt;code>pdk-vanagon#270&lt;/code>&lt;/a>: &amp;ldquo;Update Gemfile&amp;rdquo;, thanks to &lt;a href="https://github.com/sbeaulie">sbeaulie&lt;/a> and the following people who helped get it over the line (&lt;a href="https://github.com/scotje">scotje&lt;/a>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/pdk-vanagon/pull/269">&lt;code>pdk-vanagon#269&lt;/code>&lt;/a>: &amp;ldquo;(MAINT) Re-enable bundle pre-install for Puppet 7.x&amp;rdquo;, thanks to &lt;a href="https://github.com/scotje">scotje&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppet-modulebuilder/pull/29">&lt;code>puppet-modulebuilder#29&lt;/code>&lt;/a>: &amp;ldquo;Ignore all hidden files in the root dir&amp;rdquo;, thanks to &lt;a href="https://github.com/ekohl">ekohl&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppet-modulebuilder/pull/27">&lt;code>puppet-modulebuilder#27&lt;/code>&lt;/a>: &amp;ldquo;Preserve directory mtimes&amp;rdquo;, thanks to &lt;a href="https://github.com/ekohl">ekohl&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>On Community Monday we processed 17 PRs (5 on tooling 12 on modules), releasing 6 modules, despite early vacations starting to eat into our availability.
Next week we&amp;rsquo;ll see if we can go beyond PRs into the issues and tickets and start processing some of that backlog.
Please swing by our &lt;a href="https://puppet.com/community/office-hours/">office hours on Monday&lt;/a> on Slack if you want to directly contact us about anything module related.&lt;/p>
&lt;h2 id="new-module--gem-releases---puppet-7-support">New Module / Gem Releases - Puppet 7 support&lt;/h2>
&lt;p>Our supported modules are now officially compatible with Puppet 7.
We&amp;rsquo;re committed to rolling out the module releases as fast as we can, incorporating as many valuable changes as possible from the Community in to the releases too.
Some modules pushed to the Forge so far, are:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache">&lt;code>puppetlabs-apache&lt;/code>&lt;/a> (&lt;code>5.8.0&lt;/code>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apt">&lt;code>puppetlabs-apt&lt;/code>&lt;/a> (&lt;code>7.7.0&lt;/code>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-chocolatey">&lt;code>puppetlabs-chocolatey&lt;/code>&lt;/a> (&lt;code>5.2.0&lt;/code>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-inifile">&lt;code>puppetlabs-inifile&lt;/code>&lt;/a> (&lt;code>4.4.0&lt;/code>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-package">&lt;code>puppetlabs-package&lt;/code>&lt;/a> (&lt;code>1.4.0&lt;/code>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-powershell">&lt;code>puppetlabs-powershell&lt;/code>&lt;/a> (&lt;code>4.1.0&lt;/code>)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-registry">&lt;code>puppetlabs-registry&lt;/code>&lt;/a> (&lt;code>3.2.0&lt;/code>)&lt;/li>
&lt;/ul>
&lt;h2 id="tales-from-the-intern">Tales from the Intern&lt;/h2>
&lt;p>Disha&amp;rsquo;s week 15 was very busy too. Find out more information &lt;a href="https://puppetlabs.github.io/iac/docs/life_of_intern.html">on her blog&lt;/a>&lt;/p>
&lt;h2 id="dsc">DSC&lt;/h2>
&lt;p>This was a busy week for DSC!
On Monday, we rebuilt &lt;em>everything&lt;/em> on the forge (incrementing the last digit of all released versions by 1) to take advantage of some new improvements to the type generation (more on that below!)&lt;/p>
&lt;ul>
&lt;li>we have also started the process of backporting all prior-released versions of the PowerShell modules with DSC resources already found on the forge.
Finally, we pushed out a quick bugfix to the base provider in &lt;code>puppetlabs-pwshlib&lt;/code>, so be sure to update your pins to &lt;code>0.6.2&lt;/code>!&lt;/li>
&lt;/ul>
&lt;h3 id="changes-to-puppetized-dsc-resource-types">Changes to Puppetized DSC Resource Types&lt;/h3>
&lt;p>If you&amp;rsquo;d like to walk these changes more deeply, you can checkout our &lt;a href="https://github.com/puppetlabs/Puppet.Dsc/blob/main/CHANGELOG.md#020---2020-12-04">latest changelog entry&lt;/a>.
In short:&lt;/p>
&lt;ul>
&lt;li>Cleaned up some generated documentation&lt;/li>
&lt;li>Added handling for non-retrievable DSC Resource properties as parameters (no more flapping on specifying credentials or &lt;code>Force&lt;/code>, etc)&lt;/li>
&lt;li>Added handling for read-only properties so they show up in run reports&lt;/li>
&lt;li>Collapsed the &lt;code>dsc_ensure&lt;/code> and &lt;code>ensure&lt;/code> keywords so you only need to specify &lt;code>dsc_ensure&lt;/code> and then &lt;em>only if&lt;/em> the DSC Resource is actually ensurable (fixing flapping and ensuring resources as absent!)&lt;/li>
&lt;li>Fixed bug in type mapping for nested CIM Instances&lt;/li>
&lt;/ul>
&lt;h2 id="inappropriate-terminology">Inappropriate Terminology&lt;/h2>
&lt;p>With everything else going on, we do not want to forget our effort to remove exclusive and inappropriate terminology from our code base. Here&amp;rsquo;s a snapshot of our current progress:&lt;/p>
&lt;ul>
&lt;li>31 modules updated&lt;/li>
&lt;li>4 in progress&lt;/li>
&lt;li>15 remaining&lt;/li>
&lt;/ul>
&lt;p>That&amp;rsquo;s 62% completed.&lt;/p>
&lt;h2 id="content-cloud-ci-project">Content Cloud CI Project&lt;/h2>
&lt;p>The project really has been turning a corner.
This week we onboarded a number of modules with no issues at all, including the first module of another team.&lt;/p>
&lt;p>As part of our &lt;a href="https://www.honeycomb.io/">Honeycomb&lt;/a> investment, I&amp;rsquo;ve published an &lt;a href="https://github.com/honeycombio/buildevents/pull/74">enhancement to their buildevents tooling&lt;/a> that will allow us to collect the entire stack of a nightly acceptance test run in one place.
This goes from from the Github Actions job through the rake task, through the process rake starts, through the webservice call, through our provisioning backend, to the call to terraform applying.
It also includes our rspec tests running in that job, through litmus and bolt into the newly provisioned machine.&lt;/p>
&lt;p>Here&amp;rsquo;s a screenshot of how it looks:
&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-12-11-status-update/cloud-ci-full-capture.png" alt="screenshot of a honeycomb waterfall trace diagram showing the flow of calls from github into our backend service and beyond">&lt;/p>
&lt;p>Sidenote: Thanks to &lt;a href="https://github.com/hsnodgrass">Heston&lt;/a> for more dynamic build-matrix calculations: the development version of litmus now can also calculate which puppet collections are &lt;a href="https://github.com/puppetlabs/puppet_litmus/pull/357">necessary for testing&lt;/a> from metadata.&lt;/p>
&lt;h3 id="porting-progress">Porting Progress&lt;/h3>
&lt;p>As of earlier this morning we have 30 of 47 modules ported over to the new CI.
Through the &lt;a href="https://github.com/puppetlabs/community_management">community scripts&lt;/a> we have a public report on the &lt;a href="https://puppetlabs.github.io/community_management/GithubActionsReport.html">nightly CI runs&lt;/a>.
While yesterday night was especially rough with some timeouts and other issues across multiple modules, on a cell-by-cell basis 435 of 447 cells succeeded (97.3%) with an all week average of 2265/2361 (95.9%).
For everyone except the few people who have access to the &lt;a href="https://ui.honeycomb.io/puppet-modules/datasets/litmus-tests/result/tVLDJWy1Avr">honeycomb stats&lt;/a>, here&amp;rsquo;s a screenshot of the top-level success/failure chart:&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-12-11-status-update/pass-fail-honeycomb.png" alt="Screenshot of a stacked area graph showing job successes and failures over the last 24 hours. There is a block of tests running from midnight through half three with an arbitrary value highlighted showing 21 cells succeeding and 2 failing for this particular 5 minute span.">&lt;/p>
&lt;p>Once the aforementioned improvements to the tooling get merged and released, we can drill into the failing cells from this view and get all the details on what went wrong.&lt;/p>
&lt;p>Currently open issues:&lt;/p>
&lt;ul>
&lt;li>several timeout issues in communication indicate need for some level of retrying to improve robustness. We&amp;rsquo;ll have to investigate where that is most appropriate.&lt;/li>
&lt;li>apt: false negative as we don&amp;rsquo;t need cloud-ci for apt and github is not amused about the empty matrix&lt;/li>
&lt;li>concat: bolt windows exit code issue&lt;/li>
&lt;li>java_ks: transient failure with keytool availability&lt;/li>
&lt;li>kubernetes: will need more work to get a full cluster working in cloud-ci&lt;/li>
&lt;li>reboot, tagmail: provisioning failed on one machine each&lt;/li>
&lt;li>our result tracking is not dealing well yet with re-runs (&lt;a href="https://github.com/kvrhdn/gha-buildevents/issues/16">kvrhdn/gha-buildevents#16&lt;/a>)&lt;/li>
&lt;/ul>
&lt;p>In general we are definitely benefitting (in the loosest sense) from the GCP virtual machines being close to real deployments in their setup and runtime behaviour.
Through this we are now detecting edge cases and robustness issues with our puppet code that we can fix once and for all in the modules or the core puppet code leading to a better experience for all.&lt;/p>
&lt;h2 id="preparing-for-pdk-20">Preparing for PDK 2.0&lt;/h2>
&lt;p>While it&amp;rsquo;s gonna be a small-ish release, PDK 2.0 is in the works, dropping the Ruby 2.1 runtime and with it Puppet 4.
We&amp;rsquo;re gonna take that opportunity and do some early spring cleaning on some components we&amp;rsquo;ve been dragging along.
The first thing to land for that is a fresh 1.0 release of the &lt;a href="https://github.com/puppetlabs/puppet-module-gems">puppet-module-gems&lt;/a> with Ruby 2.1 and Ruby 2.3 dropped, and a &lt;a href="https://github.com/puppetlabs/puppet-module-gems/pull/156">current rubocop&lt;/a>.
This also requires an update to the &lt;a href="https://github.com/puppetlabs/pdk-templates">pdk-templates&lt;/a> to &lt;a href="https://github.com/puppetlabs/pdk-templates/pull/371">provide the new defaults&lt;/a>.
While we try to sequence this work in a way that minimizes impact, please be aware that this might impact you over the next couple of days if you&amp;rsquo;re tracking the &lt;code>main&lt;/code> branch of pdk-templates.&lt;/p>
&lt;h2 id="other-changes">&amp;ldquo;Other&amp;rdquo; changes&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>firewall: Add support for the &amp;ndash;condition parameter - &lt;a href="https://github.com/puppetlabs/puppetlabs-firewall/pull/941">https://github.com/puppetlabs/puppetlabs-firewall/pull/941&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>apache: Fix bool2httpd function call for older ruby versions - &lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2102">https://github.com/puppetlabs/puppetlabs-apache/pull/2102&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Blog: DSC + Puppet: Arrived!</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2020-09-21-dsc-release/</link><pubDate>Mon, 21 Sep 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2020-09-21-dsc-release/</guid><description>
&lt;p>Earlier this year, we &lt;a href="https://puppetlabs.github.io/iac/news/roadmap/2020/03/30/dsc-announcement.html">announced an upcoming project&lt;/a> to drastically improve the story for using DSC Resources with Puppet.
Today, we&amp;rsquo;re announcing the general availability of that project!&lt;/p>
&lt;p>The &lt;a href="https://github.com/puppetlabs/Puppet.Dsc">&lt;code>Puppet.Dsc&lt;/code> PowerShell module&lt;/a> is now available on the &lt;a href="https://www.powershellgallery.com/packages/Puppet.Dsc">PowerShell Gallery&lt;/a>;
furthermore, an initial batch of &lt;strong>twenty-six&lt;/strong> PowerShell modules with DSC Resources have been Puppetized and &lt;a href="https://forge.puppet.com/dsc">published to the Forge&lt;/a>!&lt;/p>
&lt;p>We picked several of the most-downloaded modules with DSC Resources released in the last year to start with, but in the coming weeks you should find &lt;em>everything&lt;/em> available on the PowerShell Gallery up on the Forge!&lt;/p>
&lt;p>But today, in addition to sharing this news, I want to go into a bit more detail, both with what&amp;rsquo;s going on under the hood and with how you can use these auto-generated modules.&lt;/p>
&lt;h3 id="installing-the-modules">Installing the Modules&lt;/h3>
&lt;p>If you just want to get your hands on the PowerShell module to read the help and experiment on your own, you can install it like any other PowerShell module:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">&lt;span style="color:#8be9fd;font-style:italic">Install-Module&lt;/span> -Name Puppet.Dsc
&lt;span style="color:#8be9fd;font-style:italic">Import-Module&lt;/span> -Name Puppet.Dsc
&lt;span style="color:#8be9fd;font-style:italic">Get-Command&lt;/span> -Module Puppet.Dsc
&lt;span style="color:#8be9fd;font-style:italic">Get-Help&lt;/span> -Name &lt;span style="color:#8be9fd;font-style:italic">New-PuppetDscModule&lt;/span> -ShowWindow
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Some of the functions from the PowerShell module rely on the &lt;a href="https://puppet.com/docs/pdk/1.x/pdk.html">Puppet Development Kit (PDK)&lt;/a> being installed;
we suggest using &lt;a href="https://chocolatey.org/">Chocolatey&lt;/a> to do so, but you can also &lt;a href="https://puppet.com/try-puppet/puppet-development-kit/">manually download and install&lt;/a> if you prefer.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">choco install pdk
&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you want to do the same sort of thing with one of the Puppetized modules from the forge, you can install them and treat them just like any other Puppet module:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#6272a4"># For example, installing the Puppetized ComputerManagementDsc module manually:&lt;/span>
puppet module install dsc-computermanagementdsc --Version 8.4.0-0-0
&lt;span style="color:#6272a4"># Or via r10k / Code Manager / Bolt:&lt;/span>
mod &lt;span style="color:#f1fa8c">&amp;#39;dsc-computermanagementdsc&amp;#39;&lt;/span>, &lt;span style="color:#f1fa8c">&amp;#39;8.4.0-0-0&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="puppetizing-a-powershell-module">Puppetizing a PowerShell module&lt;/h2>
&lt;p>So, you want to turn a PowerShell module with DSC Resources into a Puppet module?
You can do this with a single command:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">&lt;span style="color:#6272a4"># If you run this command without the PassThru flag it returns nothing to the output stream.&lt;/span>
&lt;span style="color:#6272a4"># Any conversion errors will be in the error stream, as usual.&lt;/span>
&lt;span style="color:#6272a4"># If you&amp;#39;d like a deeper look at what it&amp;#39;s doing, try running it with the Verbose flag.&lt;/span>
&lt;span style="color:#8be9fd;font-style:italic">New-PuppetDscModule&lt;/span> -PowerShellModuleName ComputerManagementDsc -PassThru
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Unfortunately, the output from running it isn&amp;rsquo;t all that exciting:&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/new-puppetdscmodule.png" alt="Output from a PowerShell console showing the running of the command above as well as the return output, which is the folder object representing the new Puppet module on disk">&lt;/p>
&lt;p>Behind the scenes, the command:&lt;/p>
&lt;ol>
&lt;li>Uses the &lt;a href="https://puppet.com/docs/pdk/1.x/pdk.html">PDK&lt;/a> to create a new Puppet module&lt;/li>
&lt;li>Searches the &lt;a href="https://www.powershellgallery.com">PowerShell Gallery&lt;/a> for the ComputerManagementDsc module and vendor it into the new Puppet module&lt;/li>
&lt;li>Converts each of the DSC Resources from the vendored PowerShell module into a Puppet Resource API type and provider&lt;/li>
&lt;li>Updates the Puppet module&amp;rsquo;s metadata and documentation based on the PowerShell module.&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>At this time, for best results we strongly recommend you run the command with administrator privileges in a Windows PowerShell 5.1 session.
While it &lt;em>does&lt;/em> work without administrator privileges, the function cannot fully map nested CIM instances without administrator privileges.
For more information on this process, check out the &lt;a href="https://github.com/puppetlabs/Puppet.Dsc/blob/main/docs/about_Puppetization.md">&lt;code>about_Puppetization&lt;/code> HelpFile&lt;/a> via &lt;code>Get-Help&lt;/code> for a more in-depth documentation of this process.&lt;/p>
&lt;/blockquote>
&lt;h2 id="using-puppetized-modules">Using puppetized modules&lt;/h2>
&lt;p>On the one hand, there&amp;rsquo;s not much to say about using the Puppetized modules with DSC Resources;
you use them &lt;em>precisely&lt;/em> like any other Puppet module, after all.
On the other hand, there&amp;rsquo;s some strong utility worth going over in more detail you may or may not be aware of!&lt;/p>
&lt;p>To get the most value from your workflow, we &lt;strong>strongly&lt;/strong> recommend you author your manifests that include Puppetized DSC Resources in &lt;a href="https://code.visualstudio.com/">VSCode&lt;/a> with the &lt;a href="https://puppet-vscode.github.io/">Puppet extension&lt;/a> enabled.&lt;/p>
&lt;p>When we open a file named &lt;code>example.pp&lt;/code> to edit, the Puppet extension automatically begins to load;
once this is finished, we have access to a ton of useful authoring support, including intellisense.&lt;/p>
&lt;p>For example, if we&amp;rsquo;ve installed the &lt;code>computermanagementdsc&lt;/code> Puppet module, we need only type &lt;code>dsc_execution&lt;/code> before IntelliSense kicks in and helps us out:&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/intellisense-resource.png" alt="A VSCode window showing the text &amp;lsquo;dsc_execution&amp;rsquo; has raised a tooltip which lists multiple possible matches, including dsc_powershellexecutionpolicy, and to the right it shows the help information for this resource.">&lt;/p>
&lt;p>Note that it tells us not just what available resources might match, it also displays the available documentation for each resource.&lt;/p>
&lt;p>We also get IntelliSense for each property we want to pass, too;
again, this doesn&amp;rsquo;t just show the available options but also includes any available documentation for each property.&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/intellisense-property.png" alt="A VSCode window showing the text &amp;lsquo;dsc&amp;rsquo; inside a Puppet resource declaration for dsc_powershellexecutionpolicy, with a tooltip listing the possible properties, including dsc_executionpolicy and dsc_executionpolicyscope; as before, the help information (now including valid values) is to the right.">&lt;/p>
&lt;p>You can also review the documentation for a property by hovering over it:&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/docs-property.png" alt="A VSCode window showing an empty declaration for &amp;lsquo;dsc_executionpolicy&amp;rsquo; with the mouse hovering over that key, displaying a tooltip which includes the documentation and valid values for the property.">&lt;/p>
&lt;p>Where this combination really begins to sing is when you&amp;rsquo;ve begun authoring a manifest and something goes wrong.&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/problems.png" alt="A VSCode window showing a fully defined manifest with markings to highlight issues.">&lt;/p>
&lt;p>The image above shows that the file name in the left-hand pane has changed colors and is now red.
It also underscores two entries in the manifest that VSCode has highlighted - one with orange underlining, indicating a warning, and one with red underlining, indicating an error.
Finally, down in the bottom left corner it highlights the problem symbols for errors and warnings, both of which display a count of one.&lt;/p>
&lt;p>VSCode (via the extension) knows &lt;em>something&lt;/em> is wrong with our manifest;
we can click on those symbols to bring up the Problems Pane and investigate:&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/problems-pane.png" alt="A VSCode window displaying the Problems Pane with two entries">&lt;/p>
&lt;p>This tells us there&amp;rsquo;s a warning about the indentation of a hash rocket and some sort of syntax error preventing the extension from parsing line 3.&lt;/p>
&lt;p>A quick look at the code tells us that we&amp;rsquo;re missing a comma in the resource declaration on line 2, and as soon as we add that comma in we get confirmation:&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/problems-added-comma.png" alt="A VSCode window displaying the Problems Pane with only one warning">&lt;/p>
&lt;p>All that remains now is the formatting issue.
Luckily, VSCode is able to automatically handle this for us via the &lt;em>Format Document&lt;/em> command:&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/format-document-option.png" alt="A VSCode window displaying the right-click menu over the manifest, highlighting the &amp;lsquo;Format Document&amp;rsquo; command with a hotkey combination of &amp;lsquo;Shift+Alt+F&amp;rsquo;">&lt;/p>
&lt;p>Which we can see does in fact move the hash rocket and resolve our last problem:&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-09-21-dsc-release/manifest-fixed.png" alt="A VSCode window displaying the manifest with no issues or warnings, the hash rocket moved appropriately to ensure preferred formatting for the manifest.">&lt;/p>
&lt;p>We&amp;rsquo;re ready to apply this manifest!&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">puppet apply ./example.pp
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Only&amp;hellip; there was a problem;
without reading the documentation for &lt;code>dsc_executionpolicyscope&lt;/code> thoroughly enough, we specified &lt;code>Machine&lt;/code> instead of &lt;code>MachinePolicy&lt;/code>!&lt;/p>
&lt;p>Puppet gives us back a pretty good error message though:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">Error: Parameter dsc_executionpolicyscope failed on Dsc_powershellexecutionpolicy[[OPS-213]]: dsc_powershellexecutionpolicy.dsc_executionpolicyscope expects a match for Enum[&amp;#39;CurrentUser&amp;#39;, &amp;#39;LocalMachine&amp;#39;, &amp;#39;MachinePolicy&amp;#39;, &amp;#39;Process&amp;#39;, &amp;#39;UserPolicy&amp;#39;], got &amp;#39;Machine&amp;#39;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We get an explicit list of the allowed values &lt;em>before&lt;/em> it tries to invoke DSC with the &lt;code>Set&lt;/code> action.
This is unlike our prior implementation in &lt;code>puppetlabs-dsc_lite&lt;/code>, which has no way of knowing whether the values you&amp;rsquo;ve provided are correct.&lt;/p>
&lt;p>Once we correct our manifest to specify &lt;code>LocalMachine&lt;/code> and re-run the command, we get something else:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">Notice: Compiled catalog for michael.lombardi-pf12aa84 in environment workstation_production in 1.04 seconds
Notice: /Stage[main]/Main/Dsc_powershellexecutionpolicy[[OPS-213]]/dsc_executionpolicy: dsc_executionpolicy changed &amp;#39;Unrestricted&amp;#39; to &amp;#39;RemoteSigned&amp;#39;
Notice: dsc_powershellexecutionpolicy[{:name=&amp;gt;&amp;#34;[OPS-213]&amp;#34;, :dsc_executionpolicyscope=&amp;gt;&amp;#34;LocalMachine&amp;#34;}]: Updating: Finished in 0.809555 seconds
Notice: Applied catalog in 1.68 seconds
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This highlights a change from both of our prior implementations:
you now get &lt;em>property-by-property&lt;/em> reporting for DSC Resources when using Puppet!
This implementation knows not just &lt;em>that&lt;/em> a DSC Resource was out of sync and therefore applied, but it can tell you exactly which properties were out of sync, what their value was, and what it has been set to in this run.&lt;/p>
&lt;p>This brings DSC Resources in line with all of the rest of the resources you manage with Puppet and drastically improves the usefulness of your run reports!&lt;/p>
&lt;h2 id="coming-up">Coming Up&lt;/h2>
&lt;p>This wave of converted DSC Resources and the release of the &lt;code>Puppet.Dsc&lt;/code> module to the PowerShell Gallery is not the &lt;em>last&lt;/em> step of our support for using DSC with Puppet, just the initial step.&lt;/p>
&lt;p>Over the coming weeks we&amp;rsquo;re going to be looking to you for feedback and incorporating it as fast as we can manage.&lt;/p>
&lt;p>We&amp;rsquo;re also moving towards automatically Puppetizing &lt;em>every&lt;/em> PowerShell module with DSC Resources on the Gallery.
If there&amp;rsquo;s a module you want to use that isn&amp;rsquo;t yet published under our &lt;a href="https://forge.puppet.com/dsc">&lt;strong>dsc&lt;/strong> namespace on the Forge&lt;/a>, let us know in &lt;a href="https://slack.puppet.com/">Slack&lt;/a> or by &lt;a href="mailto:dsc@puppet.com">emailing us&lt;/a> and we&amp;rsquo;ll publish it as soon as we can!&lt;/p>
&lt;p>In the long run, we plan to get some nightly builds in place to ensure that there&amp;rsquo;s never more than a 24 hour lag between when a PowerShell module with DSC Resources is published (new or merely updated) to the Gallery and when that same module is Puppetized and published to the Forge.&lt;/p>
&lt;p>We hope to hear from you soon!&lt;/p></description></item><item><title>Blog: 29th May 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-05-29-status-update/</link><pubDate>Fri, 29 May 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-05-29-status-update/</guid><description>
&lt;p>Greetings from the IAC Team - here&amp;rsquo;s our status update for this week!&lt;/p>
&lt;h2 id="module-releases-from-iac-team">Module Releases from IAC Team&lt;/h2>
&lt;p>Here&amp;rsquo;s the new releases in the modules this week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-motd">puppetlabs/docker&lt;/a> (3.10.1)&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-java">puppetlabs/java&lt;/a> (6.3.0)&lt;/li>
&lt;/ul>
&lt;h2 id="module-releases-from-puppet">Module Releases from Puppet&lt;/h2>
&lt;p>Here&amp;rsquo;s some module releases from other teams in Puppet you may be interested in:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/python_task_helper">puppetlabs/python_task_helper&lt;/a> (v0.4.3)&lt;/li>
&lt;/ul>
&lt;h2 id="gem-releases">Gem Releases&lt;/h2>
&lt;p>We&amp;rsquo;re happy to announce a new version of &lt;a href="https://github.com/puppetlabs/puppet_litmus">Litmus&lt;/a> has been released:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md#0182-2020-05-28">v0.18.2&lt;/a> contains a number of fixes from &lt;a href="https://github.com/pmcmaw">Paula&lt;/a>, &lt;a href="https://github.com/DavidS">DavidS&lt;/a> and &lt;a href="https://github.com/mmarod">mmarod&lt;/a>. Full details in the &lt;a href="https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md#0182-2020-05-28">CHANGELOG&lt;/a>!&lt;/li>
&lt;/ul>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>The wonderful community members that continue to contribute to our modules have provided us with the following enhancements:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://github.com/puppetlabs/puppetlabs-apt/pull/938">&lt;code>puppetlabs-apt#938&lt;/code>&lt;/a>:&lt;/strong> &lt;a href="https://github.com/mdklapwijk">mdklapwijk&lt;/a> added support for https repositories by making use of the &lt;a href="https://www.unix-ag.uni-kl.de/~bloch/acng/html/howtos.html#ssluse">&lt;code>tell-me-what-you-need&lt;/code>&lt;/a> method in &lt;a href="https://wiki.debian.org/AptCacherNg">&lt;code>apt-cacher-ng&lt;/code>&lt;/a>.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://github.com/puppetlabs/puppetlabs-kubernetes/pull/412">&lt;code>puppetlabs-kubernetes#412&lt;/code>&lt;/a>:&lt;/strong> A HUGE number of improvements from &lt;a href="https://github.com/Wiston999">Wiston999&lt;/a>. Check out &lt;a href="https://github.com/puppetlabs/puppetlabs-kubernetes/pull/412">the PR&lt;/a> for all the details.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2033">&lt;code>puppetlabs-apache#2033&lt;/code>&lt;/a>:&lt;/strong> &lt;a href="https://github.com/thechristschn">thechristschn&lt;/a> enhanced the &lt;code>proxy_protocol_exceptions&lt;/code> param in &lt;code>mod_remoteip&lt;/code> to accept IPv6 addresses in CIDR notation.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://github.com/puppetlabs/puppetlabs-java/pull/429">&lt;code>puppetlabs-java#429&lt;/code>&lt;/a>:&lt;/strong> &lt;a href="https://github.com/fraenki">fraenki&lt;/a> made an enhacement to allow management of symlinks in the &lt;code>java::adopt&lt;/code> defined type.&lt;/li>
&lt;/ul>
&lt;p>Many thanks to &lt;a href="https://github.com/mdklapwijk">mdklapwijk&lt;/a>, &lt;a href="https://github.com/Wiston999">Wiston999&lt;/a>, &lt;a href="https://github.com/thechristschn">thechristschn&lt;/a> and &lt;a href="https://github.com/fraenki">fraenki&lt;/a> for your excellent contributions!&lt;/p>
&lt;h2 id="iac-team-demos">IAC Team Demos&lt;/h2>
&lt;p>We frequently demo some of the the enhancements to the [tools]({% link tools.html %}) under our management to ourselves or the wider company.
Check out the videos on our new [demos]({% link _docs/demos.md) page where you can see:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/carabasdaniel">Danny&lt;/a> taking you through the steps for adding a new provisioner to &lt;a href="https://github.com/puppetlabs/puppet_litmus">Litmus&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/sheenaajay">Sheena&lt;/a> demonstrating how we use the invaluable &lt;a href="https://github.com/puppetlabs/pdksync">pdksync&lt;/a> for deploying and testing the same change to multiple repos&lt;/li>
&lt;/ul>
&lt;h2 id="puppetdscbuilder-beta-testing">PuppetDSCBuilder Beta Testing&lt;/h2>
&lt;p>It has been greatly encouraging to see a number of people signed up to be early adopters of the &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder">&lt;code>PuppetDSCBuilder&lt;/code>&lt;/a> project.
We just had another sign up this week!
If you&amp;rsquo;re heavily involved in Windows admin, Powershell and DSC, check out the &lt;a href="https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-03-30-dsc-announcement.md">previous blog post&lt;/a> from &lt;a href="https://github.com/michaeltlombardi">Michael&lt;/a> which outlines the functionality and how to get in touch with us to participate!&lt;/p>
&lt;p>That&amp;rsquo;s a wrap for this week!
To our Romanian IAC team members (&lt;a href="https://github.com/carabasdaniel">Danny&lt;/a>, &lt;a href="https://github.com/daianamezdrea">Daiana&lt;/a>, &lt;a href="https://github.com/adrianiurca">Adrian&lt;/a>) and any Romanian readers out there - enjoy the long weekend!&lt;/p></description></item><item><title>Blog: 8th May 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-05-08-status-update/</link><pubDate>Fri, 08 May 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-05-08-status-update/</guid><description>
&lt;p>The IAC team has been working on a couple of interesting things in the past week.
Here&amp;rsquo;s a brief overview of what we&amp;rsquo;ve been up to:&lt;/p>
&lt;h2 id="module-releases">Module Releases&lt;/h2>
&lt;p>Modules released this week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/accounts">puppetlabs/accounts&lt;/a> (v6.1.1)&lt;/li>
&lt;/ul>
&lt;p>Modules released by other teams around the company:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/cd4pe">puppetlabs/cd4pe&lt;/a> (v2.0.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/cd4pe_jobs">puppetlabs/cd4pe_jobs&lt;/a> (v1.1.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/cron_core">puppetlabs/cron_core&lt;/a> (v1.0.4)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/gcloud_inventory">puppetlabs/gcloud_inventory&lt;/a> (v0.1.1)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/pkcs7">puppetlabs/pkcs7&lt;/a> (v0.1.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/puppet_authorization">puppetlabs/puppet_authorization&lt;/a> (v0.5.1)&lt;/li>
&lt;/ul>
&lt;h2 id="team-roster-changes">Team Roster Changes&lt;/h2>
&lt;p>Michael Lombardi, our resident Windows and PowerShell expert, has &lt;a href="https://twitter.com/TrebuchetOps/status/1256985345830400002">announced great news&lt;/a> and will not be available for the next while.&lt;/p>
&lt;p>A big HORRAY!! and all the best from the team!&lt;/p>
&lt;h2 id="virtual-puppet-camp-germany">Virtual Puppet Camp Germany&lt;/h2>
&lt;p>Puppet Camp Berlin has come and gone.
&lt;a href="https://github.com/pmcmaw">Paula&lt;/a> and &lt;a href="https://github.com/HelenCampbell">Helen&lt;/a> did a fantastic job at MC&amp;rsquo;ing the event.
The talks are available on &lt;a href="https://www.youtube.com/user/PuppetLabsInc/">the YouTube channel&lt;/a>.
You&amp;rsquo;ll also find the talks from the Australian or US East camps there.
For example, &lt;a href="https://www.youtube.com/watch?v=iqBzBVTlwWI">Automated Testing of your Infracode&lt;/a> by Jesse Reynolds.&lt;/p>
&lt;p>Thanks to everyone who contributed, chatted in &lt;a href="https://slack.puppet.com/">Slack&lt;/a>, or just was listening in on the talks and learned something!&lt;/p>
&lt;h2 id="continued-work-on-puppet-dsc">Continued Work on Puppet DSC&lt;/h2>
&lt;p>The &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">Puppet DSC project&lt;/a> continues on through phase II, with this week seeing [an annoying bug(https://tickets.puppetlabs.com/browse/IAC-781)] being squashed and the first trial modules being sent out to beta testers.&lt;/p>
&lt;p>To any community members who still would like to be part of our beta testing program, I encourage you to reach out to &lt;a href="mailto:dsc@puppet.com">dsc@puppet.com&lt;/a> with answers to the following questions:&lt;/p>
&lt;ul>
&lt;li>What are the top three PowerShell modules with DSC resources you use/depend on the most?&lt;/li>
&lt;/ul>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>When we talk of community it&amp;rsquo;s not just the issues that they have raised, but also the contributions that they have made, so here&amp;rsquo;s a few of the excellent PRs opened by community members that have been merged in over the last week:&lt;/p>
&lt;p>A clear thank you for &lt;a href="https://github.com/binford2k">binford2k&lt;/a> for these great PRs on the postgresql module:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1168">Mark version param as deprecated in server.pp comments&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1167">service_ensure =&amp;gt; true is now an allowed value (aliased to running)&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Another big thank you for &lt;a href="https://github.com/alexjfisher">alexjfisher&lt;/a> on his great contributions to the apache module:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2023">Replace &lt;code>validate_apache_loglevel&lt;/code> method with data type&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2024">Tidy up &lt;code>pw_hash&lt;/code> function&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2025">Replace legacy &lt;code>bool2httpd()&lt;/code> function with shim&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Thank you &lt;a href="https://github.com/zoojar">zoojar&lt;/a> for ensuring consistency on the bootstrap module:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-bootstrap/pull/141">Ensure &amp;lsquo;$set_noop&amp;rsquo; is lowercase for consistency&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Thank you &lt;a href="https://github.com/akerl-unpriv">akerl-unpriv&lt;/a> for this new feature on the firewall module:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-firewall/pull/916">Add support for cgroup arg - firewall&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="short-week">Short week&lt;/h2>
&lt;p>With Friday being a bank holiday in the UK and May 1st being a bank holiday in Romania &lt;em>and&lt;/em> Puppet taking a global mental health day on May 4th, this week was particularly short and compressed. We&amp;rsquo;ll be back to our regular schedule next week.&lt;/p>
&lt;h2 id="pdk">PDK&lt;/h2>
&lt;blockquote>
&lt;p>The &lt;a href="https://github.com/puppetlabs/pdk">PDK&lt;/a> has shifted under the ownership of the IA Content Team.
The team is currently working on our first PDK release, which we hope to have with you soon.&lt;/p>
&lt;/blockquote>
&lt;p>The release handover was impacted by a garden variety of fun issues from build infrastructure hiccups to a last minute breakage through an upstream gem.
Worry not, the release is still inevitable.&lt;/p>
&lt;h2 id="wrap-up">Wrap-up&lt;/h2>
&lt;p>That&amp;rsquo;s it for this weeks update, a big THANK YOU for all your contributions and support.&lt;/p></description></item><item><title>Blog: 01st May 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-05-01-status-update/</link><pubDate>Fri, 01 May 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-05-01-status-update/</guid><description>
&lt;p>The IAC team has been working on a couple of interesting things in the past week.
Here&amp;rsquo;s a brief overview of what we&amp;rsquo;ve been up to:&lt;/p>
&lt;h2 id="virtual-puppet-camp-germany">Virtual Puppet Camp Germany&lt;/h2>
&lt;p>Puppet Camp Berlin has gone virtual.
We invite you to join us for an immersive and educational event without the risk of travel.&lt;/p>
&lt;p>Join us online at &lt;a href="https://www.eventbrite.com/e/virtual-puppet-camp-germany-tickets-101250404686">Virtual Puppet Camp Germany&lt;/a> for technical talks from local leaders to level up your Puppet skill.&lt;/p>
&lt;ul>
&lt;li>Date And Time:&lt;br/>
Tue, May 5, 2020&lt;br/>
9:00 AM – 12:30 PM CEST&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://github.com/pmcmaw">Paula Muir&lt;/a> will be one of the MCs for the Puppet Camp.&lt;/p>
&lt;h2 id="module-releases">Module Releases&lt;/h2>
&lt;p>One thing we are always happy to talk about is the release of a module, in this case:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/inifile">puppetlabs/inifile&lt;/a> (v4.2.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/accounts">puppetlabs/accounts&lt;/a> (v6.1.1)&lt;/li>
&lt;/ul>
&lt;h2 id="puppet-modulebuilder-gem-020-release">puppet-modulebuilder Gem 0.2.0 Release&lt;/h2>
&lt;p>&lt;a href="https://github.com/puppetlabs/puppet-modulebuilder">puppet-modulebuilder&lt;/a> gem, which has now &lt;a href="https://rubygems.org/gems/puppet-modulebuilder/versions/0.2.0">been released&lt;/a>!&lt;/p>
&lt;p>Thanks a lot to &lt;a href="https://github.com/ekohl">ekohl&lt;/a> for the improvement on puppet-modulebuilder!&lt;/p>
&lt;h2 id="continued-work-on-puppet-dsc">Continued Work on Puppet DSC&lt;/h2>
&lt;p>The &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">Puppet DSC project&lt;/a> continues on through phase II, with this week seeing the ability to puppetize a PowerShell module&amp;rsquo;s DSC resources with a single command (&lt;code>New-PuppetDscModule&lt;/code>), as well as improving the output modules themselves, ensuring that their reference documentation and README are generated.
The other big change in the last week was to the underlying provider and type generation, improving debuggability and fully mapping embedded CIM instances!&lt;/p>
&lt;p>To any community members who would like to be part of our beta testing program, I encourage you to reach out to &lt;a href="mailto:dsc@puppet.com">dsc@puppet.com&lt;/a> with answers to the following questions:&lt;/p>
&lt;ul>
&lt;li>What are the top three PowerShell modules with DSC resources you use/depend on the most?&lt;/li>
&lt;/ul>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>When we talk of community it&amp;rsquo;s not just the issues that they have raised, but also the contributions that they have made, so here&amp;rsquo;s a few of the excellent PRs opened by community members that have been merged in over the last week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1165">Fix custom port in extension&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-firewall/pull/914">Extend Log Options&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-accounts/pull/291">MODULES-10550 fix keyspec parsing to allow whitespaces&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-bootstrap/pull/139">Add set_noop parameter&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-mysql/pull/1298">Revert &amp;ldquo;Puppet 4 functions&amp;rdquo;&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-mysql/pull/1299">Remove legacy (old API) &amp;ldquo;mysql_password&amp;rdquo; function&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>We would like to thank &lt;a href="https://github.com/Vampouille">Julien Acroute&lt;/a>, &lt;a href="https://github.com/martialblog">Markus Opolka&lt;/a>, &lt;a href="https://github.com/janit42">janit42&lt;/a>, &lt;a href="https://github.com/zoojar">David Newton&lt;/a> and &lt;a href="https://github.com/alexjfisher">Alexander Fisher&lt;/a> for the contributions and hope to see more from them in the future.&lt;/p>
&lt;h2 id="whats-happening-in-the-community-section">What&amp;rsquo;s happening in the community section&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>CampToCamp (now a Service Delivery Partner and always stellar community supporters) have taken over maintenance of &lt;a href="https://github.com/camptocamp/puppet-catalog-diff">puppet-catalog-diff&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>voxpupuli tasks app development - &lt;a href="https://github.com/bastelfreak">Tim Meusel&lt;/a> and team are working on improving their &lt;a href="https://voxpupu.li/">tasks&lt;/a> application.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/voxpupuli/vox-pupuli-tasks/issues/138">Fix broken modulesync detection&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/voxpupuli/vox-pupuli-tasks/pull/142">Avoid duplicate comments&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/voxpupuli/vox-pupuli-tasks/pull/143">Check user permissions for admin page&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/voxpupuli/vox-pupuli-tasks/pull/144">Mark PRs with failed CI&lt;/a>&lt;/li>
&lt;li>Identified a bug on OS detection and working on the fix.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="pdk">PDK&lt;/h2>
&lt;p>The &lt;a href="https://github.com/puppetlabs/pdk">PDK&lt;/a> has shifted under the ownership of the IA Content Team.
The team is currently working on our first PDK release, which we hope to have with you soon.&lt;/p>
&lt;h2 id="litmus">Litmus&lt;/h2>
&lt;p>The final thing that I wish to talk about today is the work finalising our adoption of Litmus as a test environment throughout our modules:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-ibm_installation_manager">puppetlabs/ibm_installation_manager&lt;/a> - porting finished for the last module, thanks to &lt;a href="https://github.com/david22swan">David Swan&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>All our modules are now ported to litmus.&lt;/p>
&lt;h2 id="wrap-up">Wrap-up&lt;/h2>
&lt;p>That&amp;rsquo;s it for this weeks update, a big THANK YOU for all your contributions and support.&lt;/p></description></item><item><title>Blog: 24th April 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-04-24-status-update/</link><pubDate>Fri, 24 Apr 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-04-24-status-update/</guid><description>
&lt;p>The IAC team has been working on a couple of interesting things in the past week.
Here&amp;rsquo;s a brief overview of what we&amp;rsquo;ve been up to:&lt;/p>
&lt;h2 id="adrians-first-week-of-triage">Adrian&amp;rsquo;s first week of triage&lt;/h2>
&lt;p>&lt;a href="https://github.com/adrianiurca">Adrian Iurca&lt;/a> has joined the IA Content Team recently and this has been the first pass through the Module Triage process. Here&amp;rsquo;s a short description of how this played out in his own words:&lt;/p>
&lt;blockquote>
&lt;p>This was a good challenge for me and a good opportunity to learn more about Puppet modules. Working with the community is also a cool thing. Looking forward to help people and improve the modules used by community.&lt;/p>
&lt;/blockquote>
&lt;h2 id="module-approvals-and-deprecations">Module approvals and deprecations&lt;/h2>
&lt;p>In the past week both the &lt;a href="https://github.com/puppetlabs/puppetlabs-azure">puppetlabs-azure&lt;/a> and &lt;a href="https://github.com/puppetlabs/puppetlabs-azure_arm">puppetlabs-azure_arm&lt;/a> have been deprecated.&lt;/p>
&lt;p>Also the &lt;a href="https://github.com/voxpupuli/puppet-keepalived">puppet-keepalived&lt;/a> module has been approved.&lt;/p>
&lt;h2 id="module-releases">Module Releases&lt;/h2>
&lt;p>One thing we are always happy to talk about is the release of a module, in this case:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/docker">puppetlabs/docker&lt;/a> (v3.10.0)&lt;/li>
&lt;/ul>
&lt;h2 id="continued-work-on-puppet-dsc">Continued Work on Puppet DSC&lt;/h2>
&lt;p>The work done by the team to &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">refactor DSC support&lt;/a> in Puppet has continued with strides being made every day.&lt;/p>
&lt;ul>
&lt;li>Conversion of the build script to a function &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/20">almost finished&lt;/a>.&lt;/li>
&lt;li>Internal testing found an issue when DSC PowerShell modules would have versions that were not legal Puppet Module versions.
&lt;a href="https://github.com/michaeltlombardi">Michael&lt;/a> &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/19">fixed it&lt;/a>.
Thanks to &lt;a href="https://github.com/genebean">Gene&lt;/a> for bringing that up.
That PR also adds protection for passwords being passed through Puppet.&lt;/li>
&lt;li>Code cleanup and test coverage is continuing.&lt;/li>
&lt;/ul>
&lt;p>To any community members who would like to be part of our beta testing program, I encourage you to reach out to &lt;a href="mailto:dsc@puppet.com">dsc@puppet.com&lt;/a> with answers to the following questions:&lt;/p>
&lt;ul>
&lt;li>What are the top three PowerShell modules with DSC resources you use/depend on the most?&lt;/li>
&lt;li>Are you interested in participating in our beta testing program?&lt;/li>
&lt;/ul>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>When we talk of community it&amp;rsquo;s not just the issues that they have raised, but also the contributions that they have made, so here&amp;rsquo;s a few of the excellent PRs opened by community members that have been merged in over the last week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1161">Finish conversion of &lt;code>postgresql_password&lt;/code> function&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1162">Finish conversion of &lt;code>postgresql_escape&lt;/code> function&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-postgresql/pull/1163">Finish conversion of &lt;code>postgresql_acls_to_resources_hash&lt;/code> function&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-firewall/pull/911">(MODULES-8543) Remove nftables' backend warning from iptables_save output&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>We would like to thank both &lt;a href="https://github.com/alexjfisher">alexjfisher&lt;/a> and &lt;a href="https://github.com/NITEMAN">NITEMAN&lt;/a> for these contributions and hope to see more from them both in the future.&lt;/p>
&lt;h2 id="pdk">PDK&lt;/h2>
&lt;p>Currently &lt;a href="https://github.com/puppetlabs/pdk">PDK&lt;/a> has shifted sterwardship towards the IA Content Team. More information about this will be coming in the following weeks.&lt;/p>
&lt;h2 id="litmus">Litmus&lt;/h2>
&lt;p>The final thing that I wish to talk about today is the work finalising our adoption of Litmus as a test environment throughout our modules:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-reboot/pull/235">puppetlabs/reboot&lt;/a> - porting finished, thanks to &lt;a href="https://github.com/sanfrancrisko">Ciaran McCrisken&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-satellite_pe_tools/pull/129">puppetlabs/satellite_pe_tools&lt;/a> - porting finished, thanks to &lt;a href="https://github.com/david22swan">David Swan&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-ibm_installation_manager">puppetlabs/ibm_installation_manager&lt;/a> - The last module that still needs conversion to use Puppet Litmus.&lt;/li>
&lt;/ul>
&lt;h2 id="wrap-up">Wrap-up&lt;/h2>
&lt;p>That&amp;rsquo;s it for this weeks update, a big THANK YOU for all your contributions and support.&lt;/p></description></item><item><title>Blog: 17th April 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-04-17-status-update/</link><pubDate>Fri, 17 Apr 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-04-17-status-update/</guid><description>
&lt;p>The IAC team has been hard at work over the past week.
Here&amp;rsquo;s a brief overview of what we&amp;rsquo;ve been up to:&lt;/p>
&lt;h2 id="the-return-of-paula">The Return of Paula&lt;/h2>
&lt;p>To start things off on a high note I&amp;rsquo;d like to announce the return of &lt;a href="https://github.com/pmcmaw">Paula Muir&lt;/a> to the modules team.&lt;/p>
&lt;p>Paula had spent the last several months of on maternity leave but has returned to the team she could not stay away from and is now once again ready to take part in the vital work that we accomplish throughout the year. But enough from me, time to hear from the woman of the hour herself:&lt;/p>
&lt;blockquote>
&lt;p>I have finally returned from maternity leave and instantly I can see major changes within the team. This includes the content we now own to the members on the team.
It is clear the team has everything under control and I am really looking forward to getting up to speed again.
I&amp;rsquo;m sure before I know it, it will be just like I was never away.&lt;/p>
&lt;/blockquote>
&lt;h2 id="the-continuing-success-of-honeycomb">The Continuing Success of honeycomb&lt;/h2>
&lt;p>One feature that we can&amp;rsquo;t help but continue to return to is just how much of a help &lt;a href="https://honeycomb.io/">Honeycomb&lt;/a> is to our continuing work.
Extracting a week&amp;rsquo;s work of data from all that we have collected has allowed our good manager &lt;a href="https://github.com/nheaney18">Norman&lt;/a> to not only spot patterns and common areas that we have since used in order to help stabilise our weekly runs, but to also identify issues that are outside the IAC domain.
This in turn has allowed us to quickly reach out to our colleagues within Puppet both for assistance and to provide them with information that they can use to improve their own features.&lt;/p>
&lt;p>If you are as excited by all of this as I am then I urge you to read to &lt;a href="https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-03-30-debugging-unit-tests-with-honeycomb.md">blog post&lt;/a> made by fellow team member &lt;a href="https://github.com/DavidS">David Schmitt&lt;/a> and discover all that &lt;a href="https://honeycomb.io/">Honeycomb&lt;/a> can do for you.&lt;/p>
&lt;h2 id="module-releases">Module Releases&lt;/h2>
&lt;p>One thing we are always happy to talk about is the release of a module, in this case:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/stdlib">puppetlabs/stdlib&lt;/a> (v6.3.0)&lt;/li>
&lt;/ul>
&lt;h2 id="continued-work-on-puppet-dsc">Continued Work on Puppet DSC&lt;/h2>
&lt;p>The work done by the team to &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">refactor DSC support&lt;/a> in Puppet has continued with strides being made every day and the first of the beta trial packets being sent out. To any community members that have not received one of these packets but would like to, we encourage you to reach out to &lt;a href="mailto:dsc@puppet.com">dsc@puppet.com&lt;/a> with answers to the following questions:&lt;/p>
&lt;ul>
&lt;li>What are the top three PowerShell modules with DSC resources you use/depend on the most?&lt;/li>
&lt;li>Are you interested in participating in our beta testing program?&lt;/li>
&lt;/ul>
&lt;h2 id="support-issues">Support Issues&lt;/h2>
&lt;p>I would like to take a moment to thank the support team (Elaine, go!) for the issues that have been raised over the last week and that are helping us to continually improve upon our modules and ensure that they run just as they should:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://tickets.puppetlabs.com/browse/MODULES-10628">MODULES-10628&lt;/a> - Docker volumes expects array rather than hash&lt;/li>
&lt;li>&lt;a href="https://tickets.puppetlabs.com/browse/MODULES-10629">MODULES-10629&lt;/a> - Registry_auth results in changes every catalog run&lt;/li>
&lt;/ul>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>When we talk of community it&amp;rsquo;s not just the issues that they have raised, but also the contributions that they have made, so here&amp;rsquo;s a few of the excellent PRs opened by community members that have been merged in over the last week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2014">Add ProxyIOBufferSize option #2014&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-stdlib/pull/1101">(MODULES-10623) explicitly top-scope calls to JSON methods #1101&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>We would like to thank both &lt;a href="https://github.com/jplindquist">jplindquist&lt;/a> and &lt;a href="https://github.com/tkishel">tkishel&lt;/a> for these contributions and hope to see more from them both in the future.&lt;/p>
&lt;h2 id="community-management">Community Management&lt;/h2>
&lt;p>In order to help us better work with the community our very own &lt;a href="https://github.com/daianamezdrea">Daiana&lt;/a> has continued to work on a management tool to help us keep track of the various PRs opened by the community. A new improvement was added just this week, allowing us to find when PRs where last given a response, either by ourselves or by the community member that opened it.&lt;/p>
&lt;h2 id="litmus">Litmus&lt;/h2>
&lt;p>The final thing that I wish to talk about today is the work finalising our adoption of Litmus as a test environment throughout our modules:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-reboot/pull/235/files">puppetlabs/reboot&lt;/a> - This port of this module is in it&amp;rsquo;s final stages and should be shipped by the end of the week, IAC team member &lt;a href="https://github.com/sanfrancrisko">Ciaran&lt;/a> putting the finishing touches to it as I write this.&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-satellite_pe_tools">puppetlabs/satellite_pe_tools&lt;/a> - The work on this port is nearing it&amp;rsquo;s end headed by &lt;a href="https://github.com/david22swan">myself&lt;/a>, and although some issues with scp are hindering it&amp;rsquo;s completion it should be finished and shoved out the door soon.&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-ibm_installation_manager">puppetlabs/ibm_installation_manager&lt;/a> - The final module of ours to be ported, this is just waiting on beng started and once finished will signal the end of our dependence on outside factors for testing our modules.&lt;/li>
&lt;/ul>
&lt;h2 id="wrap-up">Wrap Up&lt;/h2>
&lt;p>And that&amp;rsquo;s the last of what I&amp;rsquo;ve got to say, I hope you&amp;rsquo;ve found my post interesting and look forward to seeing contributions from all of you in the future.&lt;/p></description></item><item><title>Blog: 8th April 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-04-09-status-update/</link><pubDate>Thu, 09 Apr 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-04-09-status-update/</guid><description>
&lt;p>The IAC team has been hard at work over the past week.
Here&amp;rsquo;s a brief overview of what we&amp;rsquo;ve been up to:&lt;/p>
&lt;h2 id="new-module-releases-iac-team">New Module Releases (IAC Team)&lt;/h2>
&lt;p>Let&amp;rsquo;s kick things off by highlighting a new module release:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/acl">puppetlabs/acl&lt;/a> (v3.1.1)&lt;/li>
&lt;/ul>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>As always, we work hand-in-hand with the broader Puppet community to get work done.
This week, we want to take a moment to highlight a few PRs and the people behind them!&lt;/p>
&lt;p>First up, a &lt;a href="https://github.com/puppetlabs/puppetlabs-docker/pull/562">pull request to the puppetlabs/docker module&lt;/a> by &lt;a href="https://github.com/seriv">Sergey Ivanov&lt;/a>.
Sergey&amp;rsquo;s work enabled the module to function transparently on RedHat systems utilizing the &lt;a href="https://developers.redhat.com/blog/2019/02/21/podman-and-buildah-for-docker-users/">&lt;code>podman-docker&lt;/code> package!&lt;/a>.
Thank you, Sergey!&lt;/p>
&lt;p>We&amp;rsquo;d like to thank &lt;a href="https://github.com/amorphina">Atanas Stoyanov&lt;/a> for &lt;a href="https://github.com/puppetlabs/puppetlabs-apache/pull/2017">his fix to the Apache module&lt;/a>.
This PR ensures that the custom ldap options in &lt;code>/etc/apache2/mods&lt;/code> can actually be applied and loaded, fixing a previously unknown bug!
Thank you, Atanas!&lt;/p>
&lt;p>Finally, big Thanks to &lt;a href="https://github.com/fraenki">Frank Wall&lt;/a> for &lt;a href="https://github.com/puppetlabs/puppetlabs-mysql/pull/1245">his PR&lt;/a> that will fix &lt;a href="https://tickets.puppetlabs.com/browse/MODULES-10023">MODULES-10023&lt;/a>, ensuring that the xtrabackup functionality in &lt;a href="https://forge.puppet.com/puppetlabs/mysql">puppetlabs/mysql&lt;/a> actually works as intended!
Thank you, Frank!&lt;/p>
&lt;h2 id="supported-module-litmus-conversion">Supported Module Litmus Conversion&lt;/h2>
&lt;p>On the topic of &lt;a href="https://github.com/puppetlabs/puppet_litmus">Litmus&lt;/a>, we&amp;rsquo;re continuing to make progress on the conversion of all supported modules to the framework:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/reboot">puppetlabs/reboot&lt;/a> is &lt;em>very nearly&lt;/em> completed, running against all 33 of the supported platforms!&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/websphere_application_server">puppetlabs/websphere_application_server&lt;/a> is wrapped!&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/satellite_pe_tools">puppetlabs/satellite_pe_tools&lt;/a> is still progressing nicely!&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/ibm_installation_manager">puppetlabs/ibm_installation_manager&lt;/a> is in progress now!&lt;/li>
&lt;/ul>
&lt;h2 id="puppet--dsc-phase-ii-begins">Puppet + DSC: Phase II Begins!&lt;/h2>
&lt;p>We have continued to make excellent progress on our &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">refactor of DSC support&lt;/a> in Puppet as we step in &lt;a href="https://tickets.puppetlabs.com/browse/IAC-685">Phase II&lt;/a>!
To find out what we&amp;rsquo;re doing, the reasoning behind it and why we&amp;rsquo;re &lt;strong>SUPER EXCITED&lt;/strong> about this, check out my &lt;a href="https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-03-30-dsc-announcement.md">earlier blog post&lt;/a>&lt;/p>
&lt;p>The technical work this week has largely been in the de-prototyping details as we work to &lt;a href="https://tickets.puppetlabs.com/browse/IAC-650">convert the prototype build script into a supportable PowerShell module&lt;/a>.
We &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/2">scaffolded the module&lt;/a> out using &lt;a href="https://github.com/FriedrichWeinmann">Fred Weinmann&amp;rsquo;s&lt;/a> &lt;a href="https://psframework.org/">PSFramework module&lt;/a>, giving us some nice automatic testing and a bunch of options to improve UX down the road (including layered configurations and tab completion).
We &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/3">added our first sets of test code&lt;/a>, &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/4">added a Vagrantfile&lt;/a> to the repository to make the development process easier on our team, and &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/6">enabled on-PR testing in Appveyor&lt;/a> to ensure we don&amp;rsquo;t introduce regressions.&lt;/p>
&lt;p>Work is currently underway to &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/7/files">decompose the module vendoring code&lt;/a> from the build script into a function in the module for ease of maintenance and testability.
Additionally, the &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/5">replacement of the extant templating engine is also underway&lt;/a> to reduce complexity and dependencies for the module.&lt;/p>
&lt;p>But the biggest milestone this week has been bringing on board Puppet&amp;rsquo;s own &lt;a href="https://github.com/genebean">Gene Liverman&lt;/a>, &lt;a href="https://github.com/jcoconnor">John O&amp;rsquo;Connor&lt;/a>, and the rest of our Developer Infrastructre &amp;amp; Operations Team as Customer 0 for this work, ensuring that we get live feedback as early as possible for our updated methodology.
We sent them beta versions of both the &lt;a href="https://www.powershellgallery.com/packages/NetworkingDsc/7.4.0.0">NetworkingDsc&lt;/a> and &lt;a href="https://www.powershellgallery.com/packages/UpdateServicesDsc/1.1.0.0">UpdateServicesDsc&lt;/a> PowerShell modules, puppetized!&lt;/p>
&lt;p>That will let them test out replacing profiles like this:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-puppet" data-lang="puppet">&lt;span style="color:#ff79c6">define&lt;/span> &lt;span style="color:#50fa7b">profile&lt;/span>::&lt;span style="color:#50fa7b">network&lt;/span>::&lt;span style="color:#50fa7b">windows_interface&lt;/span> (
&lt;span style="color:#50fa7b">Array&lt;/span>[&lt;span style="color:#50fa7b">Stdlib&lt;/span>::&lt;span style="color:#50fa7b">IP&lt;/span>::&lt;span style="color:#50fa7b">Address&lt;/span>] &lt;span style="color:#8be9fd;font-style:italic">$ipaddress,&lt;/span>
&lt;span style="color:#50fa7b">String&lt;/span>[&lt;span style="color:#bd93f9">1&lt;/span>] &lt;span style="color:#8be9fd;font-style:italic">$interfacealias,&lt;/span>
&lt;span style="color:#50fa7b">Enum&lt;/span>[&lt;span style="color:#f1fa8c">&amp;#39;IPv4&amp;#39;&lt;/span>,&lt;span style="color:#f1fa8c">&amp;#39;IPv6&amp;#39;&lt;/span>] &lt;span style="color:#8be9fd;font-style:italic">$addressfamily&lt;/span> &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;IPv4&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">Optional&lt;/span>[&lt;span style="color:#50fa7b">Stdlib&lt;/span>::&lt;span style="color:#50fa7b">IP&lt;/span>::&lt;span style="color:#50fa7b">Address&lt;/span>] &lt;span style="color:#8be9fd;font-style:italic">$gw_address&lt;/span> &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">undef&lt;/span>,
){
&lt;span style="color:#ff79c6">include&lt;/span> &lt;span style="color:#50fa7b">profile&lt;/span>::&lt;span style="color:#50fa7b">network&lt;/span>::&lt;span style="color:#50fa7b">windows_install_dsc_modules&lt;/span>
&lt;span style="color:#50fa7b">dsc&lt;/span> {&lt;span style="color:#f1fa8c">&amp;#34;${name}-ip-address&amp;#34;&lt;/span>:
&lt;span style="color:#50fa7b">resource_name&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;IPAddress&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">module&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;NetworkingDsc&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">properties&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> {
&lt;span style="color:#50fa7b">ipaddress&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$ipaddress,&lt;/span>
&lt;span style="color:#50fa7b">interfacealias&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$interfacealias,&lt;/span>
&lt;span style="color:#50fa7b">addressfamily&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$addressfamily,&lt;/span>
},
&lt;span style="color:#50fa7b">require&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">Class&lt;/span>[&lt;span style="color:#f1fa8c">&amp;#39;profile::network::windows_install_dsc_modules&amp;#39;&lt;/span>],
}
&lt;span style="color:#ff79c6">if&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$gw_address&lt;/span> {
&lt;span style="color:#50fa7b">dsc&lt;/span> {&lt;span style="color:#f1fa8c">&amp;#34;${name}-default-gw&amp;#34;&lt;/span>:
&lt;span style="color:#50fa7b">resource_name&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;DefaultGatewayAddress&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">module&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;NetworkingDsc&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">properties&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> {
&lt;span style="color:#50fa7b">address&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$gw_address,&lt;/span>
&lt;span style="color:#50fa7b">interfacealias&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$interfacealias,&lt;/span>
&lt;span style="color:#50fa7b">addressfamily&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$addressfamily,&lt;/span>
},
&lt;span style="color:#50fa7b">require&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">Class&lt;/span>[&lt;span style="color:#f1fa8c">&amp;#39;profile::network::windows_install_dsc_modules&amp;#39;&lt;/span>],
}
}
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>With one using the beta modules, like this!&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-puppet" data-lang="puppet">&lt;span style="color:#ff79c6">define&lt;/span> &lt;span style="color:#50fa7b">profile&lt;/span>::&lt;span style="color:#50fa7b">network&lt;/span>::&lt;span style="color:#50fa7b">windows_interface&lt;/span> (
&lt;span style="color:#50fa7b">Array&lt;/span>[&lt;span style="color:#50fa7b">Stdlib&lt;/span>::&lt;span style="color:#50fa7b">IP&lt;/span>::&lt;span style="color:#50fa7b">Address&lt;/span>] &lt;span style="color:#8be9fd;font-style:italic">$ipaddress,&lt;/span>
&lt;span style="color:#50fa7b">String&lt;/span>[&lt;span style="color:#bd93f9">1&lt;/span>] &lt;span style="color:#8be9fd;font-style:italic">$interfacealias,&lt;/span>
&lt;span style="color:#50fa7b">Enum&lt;/span>[&lt;span style="color:#f1fa8c">&amp;#39;IPv4&amp;#39;&lt;/span>,&lt;span style="color:#f1fa8c">&amp;#39;IPv6&amp;#39;&lt;/span>] &lt;span style="color:#8be9fd;font-style:italic">$addressfamily&lt;/span> &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;IPv4&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">Optional&lt;/span>[&lt;span style="color:#50fa7b">Stdlib&lt;/span>::&lt;span style="color:#50fa7b">IP&lt;/span>::&lt;span style="color:#50fa7b">Address&lt;/span>] &lt;span style="color:#8be9fd;font-style:italic">$gw_address&lt;/span> &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">undef&lt;/span>,
){
&lt;span style="color:#50fa7b">dsc_ipaddress&lt;/span> {&lt;span style="color:#f1fa8c">&amp;#34;${name}-ip-address&amp;#34;&lt;/span>:
&lt;span style="color:#50fa7b">dsc_ipaddress&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$ipaddress,&lt;/span>
&lt;span style="color:#50fa7b">dsc_interfacealias&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$interfacealias,&lt;/span>
&lt;span style="color:#50fa7b">dsc_addressfamily&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$addressfamily,&lt;/span>
}
&lt;span style="color:#ff79c6">if&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$gw_address&lt;/span> {
&lt;span style="color:#50fa7b">dsc_defaultgatewayaddress&lt;/span> {&lt;span style="color:#f1fa8c">&amp;#34;${name}-default-gw&amp;#34;&lt;/span>:
&lt;span style="color:#50fa7b">dsc_address&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$gw_address,&lt;/span>
&lt;span style="color:#50fa7b">dsc_interfacealias&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$interfacealias,&lt;/span>
&lt;span style="color:#50fa7b">dsc_addressfamily&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$addressfamily,&lt;/span>
}
}
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you&amp;rsquo;re interested in joining our beta program, which we will be launching in earnest after Easter, please &lt;a href="mailto:dsc@puppet.com">email us&lt;/a> (&lt;a href="mailto:dsc@puppet.com">dsc@puppet.com&lt;/a>) and let us know:&lt;/p>
&lt;ol>
&lt;li>What are the top three PowerShell modules with DSC resources you&amp;rsquo;d like to see Puppetized?&lt;/li>
&lt;li>Are you interested in joining our beta test group for this ongoing project?&lt;/li>
&lt;/ol>
&lt;p>If you just wanna keep an eye on things, you can follow the repository on GitHub and the &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">parent epic in JIRA&lt;/a>!&lt;/p>
&lt;h2 id="powershell-101-training">PowerShell 101 Training&lt;/h2>
&lt;p>In addition to helping oversee the DSC work, &lt;a href="https://github.com/michaeltlombardi">Michael&lt;/a> just wrapped up running the team through his [PowerShell 101 Course][pwshop], which focuses on helping with the &amp;ldquo;blinking cursor&amp;rdquo; problem:&lt;/p>
&lt;blockquote>
&lt;p>Help! I&amp;rsquo;m in a PowerShell prompt and have &lt;em>no idea&lt;/em> what to do from here!&lt;/p>
&lt;/blockquote>
&lt;p>It&amp;rsquo;s meant not to turn you into a comprehensive PowerShell scripter but to get you up, running, and reasonably effective in a few hours.
It includes 12 lessons and 20 sets of exercises and is available right now, and for the duration of the impacts from COVID-19, for free.
If you&amp;rsquo;ve been thinking about learning about this (more than decade old, now!) young shell that the Windowsy devops crowd has been talking about, this is a good way to get started.&lt;/p>
&lt;p>I&amp;rsquo;ve been helping to level up the team on PowerShell over the past several weeks as the DSC work becomes a serious focus and to generally help the team improve our Windows support skills.&lt;/p></description></item><item><title>Blog: 3rd April 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-04-03-status-update/</link><pubDate>Fri, 03 Apr 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-04-03-status-update/</guid><description>
&lt;p>The IAC team has been working on a lot of interesting things over the past week.
Here&amp;rsquo;s a brief overview of what we&amp;rsquo;ve been up to:&lt;/p>
&lt;h2 id="covid-19">COVID-19&lt;/h2>
&lt;p>We&amp;rsquo;ve now completed our 3rd week as a fully remote working team.
It seems like we&amp;rsquo;ve all adopted fairly well as it&amp;rsquo;s feeling like the &amp;ldquo;new normal&amp;rdquo;, insofar as normal can be during these unprecedented times.
One new addition to our team&amp;rsquo;s process is our Friday social chats.
We all down tools and chill out, chat, have a drink and play some games!
Often, the team members' pets will make a welcome appearance. :)
We hope you, your friends, family and colleagues are continuing to weather the storm and that everyone is healthy and safe.
Puppet have been striving to &lt;a href="https://puppet.com/blog/covid-19-a-note-for-our-community/">help our customers, community members, users and partners&lt;/a> during this difficult time.
The IAC team continue to remain engaged with the always awesome Community to keep the conveyer belt of improvements moving!
Stay safe and well!&lt;/p>
&lt;h2 id="new-module-releases-iac-team">New Module Releases (IAC Team)&lt;/h2>
&lt;p>Let&amp;rsquo;s kick things off by highlighting some new module releases:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/firewall">puppetlabs/firewall&lt;/a> (v2.3.0)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/iis">puppetlabs/iis&lt;/a> (v7.0.1)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/ntp">puppetlabs/ntp&lt;/a> (v8.3.0)&lt;/li>
&lt;/ul>
&lt;h4 id="puppetlabsiis-v701">puppetlabs/iis v7.0.1&lt;/h4>
&lt;p>Thanks to &lt;a href="https://github.com/pillarsdotnet">pillarsdotnet&lt;/a> for &lt;a href="https://github.com/puppetlabs/puppetlabs-iis/pull/254">his PR&lt;/a> that fixed &lt;a href="https://tickets.puppetlabs.com/browse/MODULES-10419">MODULES-10419&lt;/a>!&lt;/p>
&lt;p>We&amp;rsquo;d also like to thank &lt;a href="https://github.com/johnrogers00">johnrogers00&lt;/a> for &lt;a href="https://github.com/puppetlabs/puppetlabs-iis/pull/272">his fix&lt;/a> and additional test coverage!&lt;/p>
&lt;h2 id="new-module-releases-community">New Module Releases (Community)&lt;/h2>
&lt;p>It&amp;rsquo;s great to see members outside of the IAC Team releasing new modules:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/zfs_core">puppetlabs/zfs_core&lt;/a> (v1.0.5)&lt;/li>
&lt;/ul>
&lt;p>Thanks to &lt;a href="https://github.com/GabrielNagy">GabrielNagy&lt;/a> and &lt;a href="https://github.com/ciprianbadescu">ciprianbadescu&lt;/a> for their efforts to get this new version of &lt;a href="https://forge.puppet.com/puppetlabs/zfs_core">zfs_core&lt;/a> released.&lt;/p>
&lt;h2 id="litmus-gem-v0181-release">Litmus gem v0.18.1 release&lt;/h2>
&lt;p>We have released v0.18.1 of the &lt;a href="https://github.com/puppetlabs/puppet_litmus">puppet_litmus gem&lt;/a>.
There were quite a number of fixes that went in to &lt;a href="https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md#v0180-2020-03-31">v0.18.0&lt;/a> and &lt;a href="https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md#0181-2020-04-02">v0.18.1&lt;/a>, but a few highlights worth mentioning:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/tphoney">tphoney&lt;/a> added support for &lt;a href="https://github.com/puppetlabs/bolt">Bolt&lt;/a> v2!&lt;/li>
&lt;li>We have been working with &lt;a href="https://github.com/jmangt">jmangt&lt;/a> to allow Litmus to &lt;a href="https://github.com/puppetlabs/puppet_litmus/pull/260">install modules from a private Forge repo&lt;/a>.&lt;/li>
&lt;li>A &lt;a href="https://github.com/puppetlabs/puppet_litmus/blob/master/CHANGELOG.md#fixed-1">number of fixes&lt;/a> from &lt;a href="https://github.com/DavidS">DavidS&lt;/a>, a fix from &lt;a href="https://github.com/findmyname666">findmyname666&lt;/a> and improvements to the docs from &lt;a href="https://github.com/clairecadman">clairecadman&lt;/a>!&lt;/li>
&lt;/ul>
&lt;h2 id="supported-module-litmus-conversion">Supported Module Litmus Conversion&lt;/h2>
&lt;p>On the topic of &lt;a href="https://github.com/puppetlabs/puppet_litmus">Litmus&lt;/a>, we&amp;rsquo;re continuing to make progress on the conversion of all supported modules to the framework:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/reboot">puppetlabs/reboot&lt;/a> is now running in the framework on most of the supported 33 compatible platforms; only a few more to go!&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/satellite_pe_tools">puppetlabs/satellite_pe_tools&lt;/a> is progressing nicely!&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/websphere_application_server">puppetlabs/websphere_application_server&lt;/a> is nearly complete and entering the review stage! We&amp;rsquo;ll hope to get this over the line very soon.&lt;/li>
&lt;/ul>
&lt;p>After that, we&amp;rsquo;ll be moving on to &lt;a href="https://forge.puppet.com/puppetlabs/ibm_installation_manager">puppetlabs/ibm_installation_manager&lt;/a>.&lt;/p>
&lt;h2 id="puppet--dsc">Puppet + DSC&lt;/h2>
&lt;p>&lt;a href="https://github.com/michaeltlombardi">michaeltlombardi&lt;/a> has continued to make excellent progress on our &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">refactor of DSC support&lt;/a> in Puppet.
To find out what we&amp;rsquo;re doing, the reasoning behind it and why we&amp;rsquo;re &lt;strong>SUPER EXCITED&lt;/strong> about this, check out &lt;a href="https://github.com/michaeltlombardi">Michael&amp;rsquo;s&lt;/a> &lt;a href="https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-03-30-dsc-announcement.md">earlier blog post&lt;/a>&lt;/p>
&lt;h2 id="debugging-with-honeycomb">Debugging with Honeycomb&lt;/h2>
&lt;p>&lt;a href="https://honeycomb.io/">Honeycomb&lt;/a> continues to provide us interesting insights that guide us to problems lurking in our test infrastructure.
&lt;a href="https://github.com/DavidS">dev_el_ops&lt;/a> used the reported data/metrics to investigate an issue pointed out by &lt;a href="https://github.com/carabasdaniel">carabasdaniel&lt;/a>.
Check out &lt;a href="https://github.com/DavidS">dev_el_ops&amp;rsquo;s&lt;/a> [earlier blog post]({% ref _posts/2020-03-30-debugging-unit-tests-with-honeycomb.md) about it.&lt;/p></description></item><item><title>Blog: DSC + Puppet: Incoming!</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2020-03-30-dsc-announcement/</link><pubDate>Mon, 30 Mar 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2020-03-30-dsc-announcement/</guid><description>
&lt;p>As &lt;a href="https://github.com/glennsarti">Glenn&lt;/a> and I alluded to on the &lt;a href="https://player.fm/series/powerscripting-podcast/episode-334-powerscripting-podcast-glenn-sarti-michael-lombardi">PowerScripting Podcast&lt;/a>, our team has been hard at work re-envisioning how we want to present the DSC + Puppet story for our users.&lt;/p>
&lt;p>&lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">Long story short&lt;/a>, for lots of reasons, our &lt;a href="https://forge.puppet.com/puppetlabs/dsc">original implementation&lt;/a> for calling DSC resources from inside Puppet (shoutout to &lt;a href="https://github.com/msutter">Marc Sutter&lt;/a>, the initial implementer!) was getting fragile, stale, and maintenance costs kept rising.&lt;/p>
&lt;p>As a stop gap, we put together the &lt;a href="https://forge.puppet.com/puppetlabs/dsc_lite">dsc_lite&lt;/a> module for people to use which dropped the guardrails and help in exchange for letting you just get to work if you needed to use it.
Essentially the thinnest of wrappers over &lt;a href="https://docs.microsoft.com/en-us/powershell/module/psdesiredstateconfiguration/invoke-dscresource?view=powershell-7">&lt;code>Invoke-DscResource&lt;/code>&lt;/a>, requiring you to get those resources onto the target and to pass an arbitrary hash of &lt;em>hopefully&lt;/em> correct properties to the DSC resource;
no way to tell if you goofed til run time.&lt;/p>
&lt;p>We made &lt;a href="https://forge.puppet.com/puppetlabs/dsc_lite">dsc_lite&lt;/a> for the DSC expert, &lt;a href="https://github.com/puppetlabs/puppetlabs-dsc_lite/blob/master/README_Tradeoffs.md">basically&lt;/a>.
But as time went on and we could no longer use our old builder to update our original module&amp;hellip;
we were leaving a &lt;strong>lot&lt;/strong> of people in the cold with a less than stellar UX.&lt;/p>
&lt;p>So my team decided to change that story.&lt;/p>
&lt;p>We talked it out, &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">planned some stuff&lt;/a> and adopted &lt;a href="https://github.com/jpogran">James Pogran&lt;/a>&amp;rsquo;s INCREDIBLE &lt;a href="https://github.com/jpogran/PuppetDscBuilder">prototype work&lt;/a>—he did 80% of the initial work for this, basically all the hardest bits. 💜&lt;/p>
&lt;h2 id="so-about-this-builder">So, About This Builder&lt;/h2>
&lt;p>The &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder">whole thing&lt;/a> is written in and relies on PowerShell, not Ruby.
The only non-PowerShell dependency is the &lt;a href="https://puppet.com/docs/pdk/1.x/pdk.html">Puppet Development Kit&lt;/a> for scaffolding the Puppet module out (no reason to re-implement that!)&lt;/p>
&lt;p>It builds on two important technologies:&lt;/p>
&lt;ol>
&lt;li>The &lt;a href="https://puppet.com/docs/puppet/latest/about_the_resource_api.html">resource_api&lt;/a> (largely developed by &lt;a href="https://github.com/DavidS">David Schmitt&lt;/a>), makes writing Puppet types and providers &lt;em>actually&lt;/em> doable for people like me—the type file is just data, the provider adheres to a simple schema.&lt;/li>
&lt;li>The &lt;a href="https://github.com/puppetlabs/ruby-pwsh/">ruby-pwsh&lt;/a> gem, based on work by numerous members of the former Windows team at Puppet:
&lt;a href="https://github.com/glennsarti">Glenn Sarti&lt;/a>, &lt;a href="https://github.com/jpogran">James Pogran&lt;/a>, &lt;a href="https://github.com/Iristyle">Ethan Brown&lt;/a>, &lt;a href="https://github.com/RandomNoun7">Bill Hurt&lt;/a>, &lt;a href="https://github.com/ThoughtCrhyme">Erick Banks&lt;/a>, &lt;a href="https://github.com/ferventcoder">Rob Reynolds&lt;/a>, and me.
This gem is a library that gives you a &lt;a href="https://github.com/puppetlabs/ruby-pwsh/blob/master/DESIGN.md">PowerShell manager&lt;/a>, enabling you to interop between PowerShell &amp;amp; Ruby.
That lets us take advantage of having a PowerShell host process and not shell out for every command.
It&amp;rsquo;s &lt;em>much&lt;/em> faster and paves the way for some really cool improvements.
It&amp;rsquo;s also what powers all of our Puppet modules which rely heavily on PowerShell calls!&lt;/li>
&lt;/ol>
&lt;p>This builder scaffolds a new Puppet module, vendors a PowerShell module from the Gallery (&lt;em>with&lt;/em> dependencies), introspects that module for DSC resources, then generates a Puppet resource_api type and provider for each DSC resource.&lt;/p>
&lt;p>It has a &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/blob/c5d349f51883abcca926a0dc6be465a037dfe957/Get-DscResourceTypeInformation.ps1">helper function&lt;/a> which desperately needs refactoring but which parses the &lt;a href="https://mikefrobbins.com/2018/09/28/learning-about-the-powershell-abstract-syntax-tree-ast/">AST&lt;/a> for the DSC resource&amp;rsquo;s source file (if it can) to retrieve the reference docs, default values, and whether the parameter is mandatory for get/set operations.
If it &lt;em>can&amp;rsquo;t&lt;/em> parse the AST (as with binary/class-based DSC resources in this iteration) it still works&amp;ndash;
it just won&amp;rsquo;t have the reference docs and will rely on the best info it can find in the output from &lt;a href="https://docs.microsoft.com/en-us/powershell/module/psdesiredstateconfiguration/get-dscresource?view=powershell-7">&lt;code>Get-DscResource&lt;/code>&lt;/a>.&lt;/p>
&lt;p>Okay, &lt;em>fine&lt;/em>, &lt;em>&lt;strong>weeeee&lt;/strong>&lt;/em>, it &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/files/4395886/michaeltlombardi-powershellget-0.1.0.tar.gz">builds a module&lt;/a>, great.
But what does using it look like?
I&amp;rsquo;m glad you asked.
First of all, here&amp;rsquo;s what a very basic manifest using a &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/files/4395886/michaeltlombardi-powershellget-0.1.0.tar.gz">puppetized module&lt;/a> looks like&amp;ndash;in this case, &lt;a href="https://www.powershellgallery.com/packages/PowerShellGet/2.2.3">PowerShellGet&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-puppet" data-lang="puppet">&lt;span style="color:#50fa7b">dsc_psrepository&lt;/span> {&lt;span style="color:#f1fa8c">&amp;#39;Add team shared module folder as a repository&amp;#39;&lt;/span>:
&lt;span style="color:#50fa7b">dsc_name&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;foo&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">dsc_ensure&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">present&lt;/span>,&lt;span style="color:#6272a4">
&lt;/span>&lt;span style="color:#6272a4"> # This location is nonsense, can be any valid folder on your
&lt;/span>&lt;span style="color:#6272a4"> # machine or in a share, any location the SourceLocation param
&lt;/span>&lt;span style="color:#6272a4"> # for the DSC resource will accept.&lt;/span>
&lt;span style="color:#50fa7b">dsc_sourcelocation&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;C:\Program Files&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">dsc_installationpolicy&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#50fa7b">untrusted&lt;/span>,
}
&lt;span style="color:#50fa7b">dsc_psrepository&lt;/span> {&lt;span style="color:#f1fa8c">&amp;#39;Trust the PowerShell Gallery&amp;#39;&lt;/span>:
&lt;span style="color:#50fa7b">dsc_name&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;PSGallery&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">dsc_ensure&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">present&lt;/span>,
&lt;span style="color:#50fa7b">dsc_installationpolicy&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#50fa7b">trusted&lt;/span>,
}
&lt;span style="color:#50fa7b">dsc_psmodule&lt;/span> {&lt;span style="color:#f1fa8c">&amp;#39;Ensure Ruby is Manageable via uru&amp;#39;&lt;/span>:
&lt;span style="color:#50fa7b">dsc_name&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;RubyInstaller&amp;#39;&lt;/span>,
&lt;span style="color:#50fa7b">dsc_ensure&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">absent&lt;/span>,
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>And, well? It works! It&amp;rsquo;s idempotent! And, much more interestingly from my perspective, it gives you property-by-property reporting for your DSC resources&amp;ndash;it knows what the state of the resource is on your node before it calls the Set method for Invoke-DscResource&amp;hellip;&lt;/p>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/content-and-tooling-team/assets/2020-03-30-dsc-announcement/property-rep.png" alt="Puppet run output reading &amp;ldquo;dsc_sourcelocation changed &amp;lsquo;C:\code\temp&amp;rsquo; to &amp;lsquo;C:\Program Files&amp;rsquo;"">&lt;/p>
&lt;p>So it can actually tell you &lt;em>what changed&lt;/em> during the run and when.
In other words, DSC resources in this implementation now report &lt;strong>just&lt;/strong> like any other Puppet resource.&lt;/p>
&lt;p>That&amp;rsquo;s pretty neat!!&lt;/p>
&lt;p>What else do you get?
Intellisense and some other awesome magic!
Thanks to the &lt;a href="https://puppet-vscode.github.io/">VSCode extension&lt;/a> maintained by &lt;a href="https://github.com/jpogran">James Pogran&lt;/a> and &lt;a href="https://github.com/glennsarti">Glenn Sarti&lt;/a>—in this screenshot, the editor is aware of all the parameters you might select, what their type is, and the valid values!&lt;/p>
&lt;p>![Image displaying intellisense capabilities of the VSCode extension where it is predicting which parameters to use and displaying their help information inline in the editor.](/content-and-tooling-team/assets/2020-03-30-dsc-announcement/intellisense.jfif %})&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Aside:&lt;/strong>
You &lt;em>are&lt;/em> writing your Puppet code in VSCode with the &lt;a href="https://puppet-vscode.github.io/">Puppet extension&lt;/a> installed, aren&amp;rsquo;t you?
You&amp;rsquo;re taking advantage of the &lt;a href="https://puppet-vscode.github.io/docs/features/intellisense">intellisense&lt;/a>, &lt;a href="https://puppet-vscode.github.io/docs/features/code-navigation">code navigation&lt;/a>, &lt;a href="https://puppet-vscode.github.io/docs/features/linting">auto linting&lt;/a>, &lt;a href="https://puppet-vscode.github.io/docs/features/debugging-puppet-code">debugging&lt;/a>, and the &lt;a href="https://puppet-vscode.github.io/docs/features/puppet-development-kit">PDK&lt;/a>, &lt;a href="https://puppet-vscode.github.io/docs/features/puppet-bolt">Bolt&lt;/a>, &amp;amp; &lt;a href="https://puppet-vscode.github.io/docs/features/control-repository">Control Repo&lt;/a> integrations&amp;hellip; right??&lt;/p>
&lt;/blockquote>
&lt;h2 id="so-it-works-what-next">So It Works. What Next?&lt;/h2>
&lt;p>We still have some testing and a host of improvements to make (including probably swapping our template engine out, shout out to &lt;a href="https://github.com/FriedrichWeinmann">Fred Weinmann&lt;/a> for the &lt;a href="https://psframework.org/documentation/documents/psmoduledevelopment/templates.html">templating engine&lt;/a> in the &lt;a href="https://github.com/PowershellFrameworkCollective/PSModuleDevelopment">PSModuleDevelopment&lt;/a> module), but the next big step—and likely the last I&amp;rsquo;ll be involved with before my paternity leave hits—is &lt;a href="https://tickets.puppetlabs.com/browse/IAC-648">turning this build script into a PowerShell module and adding testing to it&lt;/a>.
It &lt;em>works&lt;/em> as a build script, but it can definitely be improved.
And, okay, a module on the Gallery is great and all&amp;hellip;&lt;/p>
&lt;p>But the &lt;strong>really cool&lt;/strong> end-user magic will arrive in the &lt;a href="https://tickets.puppetlabs.com/browse/IAC-649">third phase&lt;/a>, where we hope to be able to automatically build and publish Puppet modules that 1:1 wrap PowerShell modules with DSC resources and expose them as Puppet types and providers!&lt;/p>
&lt;p>We&amp;rsquo;re envisioning a future where not only can you Puppetize any DSC-Resource-having-module you want for yourself, but you can just find all of the modules publicly available on the Gallery already wrapped up and ready for you on the Puppet Forge!&lt;/p>
&lt;h2 id="caveats-and-warnings">Caveats and Warnings&lt;/h2>
&lt;p>We&amp;rsquo;re &lt;em>just&lt;/em> wrapping the underlying DSC resources and making them available to you.
If there&amp;rsquo;s a problem &lt;em>calling&lt;/em> the DSC resources from Puppet, we&amp;rsquo;ll work on it, but if there&amp;rsquo;s a problem with &lt;em>how&lt;/em> those resources behave, that&amp;rsquo;s upstream.&lt;/p>
&lt;p>Our team is full of lovely humans who do incredible amounts of work (seven people for &lt;a href="https://puppetlabs.github.io/community_management/">&amp;gt;250 PRs/month, ~50 supported modules&lt;/a>, &lt;a href="https://puppetlabs.github.io/iac/tools/">over a dozen open source tools&lt;/a>, contributing to dozens more) but we can&amp;rsquo;t adopt &amp;gt; 300 DSC modules too. 💔&lt;/p>
&lt;p>We&amp;rsquo;ll also continue to improve the underlying provider and build system, of course, and are excited to get the output modules fully functional for PowerShell 7+ - meaning they&amp;rsquo;ll be cross-platform compatible if the underlying resources are!
This first prototype is just 5.1 though.&lt;/p>
&lt;h2 id="wrapping-up-call-to-action">Wrapping Up, Call to Action&lt;/h2>
&lt;p>So! If you&amp;rsquo;re interested in the work so far, you can &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder">check it out on GitHub&lt;/a>&amp;ndash;
the &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/pull/1">latest PR&lt;/a> includes functional instructions for testing the new builder or just &lt;a href="https://github.com/puppetlabs/PuppetDscBuilder/files/4395886/michaeltlombardi-powershellget-0.1.0.tar.gz">grabbing the test module&lt;/a> and playing with it in your own lab!&lt;/p>
&lt;p>We wanna tighten the loop and ensure we&amp;rsquo;re solving your problems with this rework because the &lt;em>whole point&lt;/em> is to make your lives easier if you&amp;rsquo;re using Puppet and DSC.
We&amp;rsquo;re here to help you get your configuration under control and free you up to do all the other hard work you have on your backlog.&lt;/p>
&lt;p>With that in mind, we would love your feedback, so if this tickles your interest at all, please &lt;a href="mailto:dsc@puppet.com">email us&lt;/a> (&lt;a href="mailto:dsc@puppet.com">dsc@puppet.com&lt;/a>) or comment below and let us know:&lt;/p>
&lt;ol>
&lt;li>What are the top three PowerShell modules with DSC resources you&amp;rsquo;d like to see Puppetized?&lt;/li>
&lt;li>Are you interested in joining our beta test group for this ongoing project?&lt;/li>
&lt;/ol>
&lt;p>If you just wanna keep an eye on things, you can follow the repository on GitHub and the &lt;a href="https://tickets.puppetlabs.com/browse/IAC-41">parent epic in JIRA&lt;/a>!&lt;/p>
&lt;p>Thanks, folx!&lt;/p></description></item><item><title>Blog: 14th Feb 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-02-14-status-update/</link><pubDate>Fri, 14 Feb 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-02-14-status-update/</guid><description>
&lt;p>The IAC team has been working on a lot of interesting things over the past week. Here&amp;rsquo;s a brief overview of what we&amp;rsquo;ve been up to:&lt;/p>
&lt;h2 id="updates-to-puppet-modules">Updates to Puppet Modules&lt;/h2>
&lt;p>We&amp;rsquo;ve released an update to two modules since last week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/pwshlib">puppetlabs/pwshlib&lt;/a> (v0.4.1)&lt;/li>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/scheduled_task">puppetlabs/scheduled_task&lt;/a> (v2.0.1)&lt;/li>
&lt;/ul>
&lt;p>This update to &lt;a href="https://forge.puppet.com/puppetlabs/scheduled_task">puppetlabs/scheduled_task&lt;/a> resolves an issue reported in &lt;a href="https://tickets.puppetlabs.com/browse/MODULES-10101">MODULES-10101&lt;/a>.&lt;/p>
&lt;p>A fix went in to &lt;a href="https://forge.puppet.com/puppetlabs/pwshlib">puppetlabs/pwshlib&lt;/a> to resolve a bug that was causing runtime errors on older versions of Ruby. See &lt;a href="https://github.com/puppetlabs/ruby-pwsh/pull/30">here&lt;/a> for more details.&lt;/p>
&lt;p>We&amp;rsquo;ll have more module releases next week, but a few interesting updates to come:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;a href="https://forge.puppet.com/puppetlabs/java">puppetlabs-java&lt;/a>:&lt;/strong> Thanks to &lt;a href="https://github.com/timdeluxe">timdeluxe&lt;/a> for &lt;a href="https://github.com/puppetlabs/puppetlabs-java/pull/370">the PR&lt;/a> to add support for &lt;a href="https://adoptopenjdk.net/">AdoptOpen JDK&lt;/a> to the module. &lt;a href="https://github.com/fraenki">fraenki&lt;/a> was also a great help in getting this PR over the line. We&amp;rsquo;ll releasing an update to the module soon!&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://forge.puppet.com/puppetlabs/mysql">puppetlabs-mysql&lt;/a>:&lt;/strong> &lt;a href="https://github.com/puppetlabs/puppetlabs-mysql/pull/1192">This is a nice PR&lt;/a> from &lt;a href="https://github.com/mauricemeyer">mauricemeyer&lt;/a> that now allows a user to override the default configuration for mysql, if you wish. Thanks to &lt;a href="https://github.com/bastelfreak">bastelfreak&lt;/a> for the help during the review stages.&lt;/li>
&lt;li>&lt;strong>&lt;a href="https://forge.puppet.com/puppetlabs/apt">puppetlabs-apt&lt;/a>:&lt;/strong> &lt;a href="https://github.com/anarcat">anarcat&lt;/a> submitted &lt;a href="https://github.com/puppetlabs/puppetlabs-apt/pull/904">this fix&lt;/a> which also highlighted an issue with our tests. Two for the price of one! Thanks to &lt;a href="https://github.com/bastelfreak">bastelfreak&lt;/a> and &lt;a href="https://github.com/baldurmen">baldurmen&lt;/a> for the reviews, too.&lt;/li>
&lt;/ul>
&lt;h2 id="were-still-buzzing-about-honeycomb">We&amp;rsquo;re still buzzing about Honeycomb&lt;/h2>
&lt;p>&lt;img src="https://puppetlabs.github.io/content-and-tooling-team/iac/assets/2020-02-14-status-update/honeycomb_rspec_formatter.png" alt="Module RSpec trace">&lt;/p>
&lt;p>We&amp;rsquo;re continuing to see the benefits of &lt;a href="https://www.honeycomb.io/">Honeycomb&lt;/a>. To make life easier, we now have the &lt;a href="https://github.com/puppetlabs/rspec_honeycomb_formatter">rspec_honeycomb_formatter&lt;/a>.
When you add this gem to a project&amp;rsquo;s Gemfile, it will create a &lt;a href="https://relishapp.com/rspec/rspec-core/docs/formatters/custom-formatters">Custom formatter in RSpec&lt;/a> that will capture the metrics we&amp;rsquo;re interested in, then send it to the configured Honeycomb endpoint for processing!&lt;/p>
&lt;h2 id="supported-modules-litmus-conversion">Supported Modules Litmus Conversion&lt;/h2>
&lt;p>We&amp;rsquo;re starting to get to the bottom of the list of modules still to be converted to &lt;a href="https://github.com/puppetlabs/puppet_litmus">Litmus&lt;/a>. We&amp;rsquo;re wrapping up on &lt;a href="https://github.com/puppetlabs/puppetlabs-powershell/">puppetlabs-powershell&lt;/a>, &lt;a href="https://github.com/puppetlabs/puppetlabs-sqlserver/">puppetlabs-sqlserver&lt;/a> and &lt;a href="https://github.com/puppetlabs/puppetlabs-vsphere/">puppetlabs-vsphere&lt;/a>.
Converting to Litmus makes testing of the modules for both ourselves at Puppet and contributors from the Community, a much easier experience.
If you&amp;rsquo;re interested in porting a module to Litmus, feel free to reach out to us during &lt;a href="https://puppet.com/community/office-hours/">Office Hours&lt;/a> - we&amp;rsquo;ll be glad to help!&lt;/p></description></item><item><title>Blog: Developing a PowerShell-Dependent Puppet Type &amp; Provider</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2020-02-05-powershell-type-and-provider-i/</link><pubDate>Wed, 05 Feb 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/posts/2020-02-05-powershell-type-and-provider-i/</guid><description>
&lt;blockquote>
&lt;p>Part One: Basic Functionality&lt;/p>
&lt;/blockquote>
&lt;p>Sometimes when managing resources with Puppet you come across a use case that you might initially solve via a few custom &lt;code>exec&lt;/code> resources&amp;ndash;
but though this solves your problem in the short run, it doesn&amp;rsquo;t scale well and leaves a lot of problems around managing reporting and idempotency.
At a certain point, it becomes advisable to write a type and provider&amp;ndash;for more information, check out our &lt;a href="https://learn.puppet.com/course/getting-started-with-the-puppet-resource-api">hands on lab&lt;/a>!&lt;/p>
&lt;p>For the purposes of this walkthrough, we&amp;rsquo;re going to create a resource API compliant type and provider to manage SMB shares on Windows.
What we want to be able to do is put something like this into a manifest, thereby creating a share on the machine:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-puppet" data-lang="puppet">&lt;span style="color:#50fa7b">smb_share&lt;/span> { &lt;span style="color:#f1fa8c">&amp;#39;basic_example&amp;#39;&lt;/span>:
&lt;span style="color:#50fa7b">ensure&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">present&lt;/span>,
&lt;span style="color:#50fa7b">path&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;C:\Path\To\A\Share&amp;#39;&lt;/span>,
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Before we can dig into the meat of writing the type and provider though, we&amp;rsquo;ve got some standardized setup to do.&lt;/p>
&lt;blockquote>
&lt;h4 id="note">Note:&lt;/h4>
&lt;p>This walkthrough assumes you have the following software installed:&lt;/p>
&lt;ul>
&lt;li>The &lt;a href="https://puppet.com/docs/pdk/1.x/pdk_install.html">Puppet Development Kit&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://code.visualstudio.com/download">Visual Studio Code&lt;/a> with the &lt;a href="https://lingua-pupuli.github.io/">Puppet extension&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>It also assumes very limited familiarity with the &lt;a href="https://puppet.com/blog/introducing-puppet-resource-api/">Resource API Walkthrough&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>Open a PowerShell console, perform the rest of these actions from there.&lt;/li>
&lt;li>&lt;code>pdk new module smb&lt;/code>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): PDK collects anonymous usage information to help us understand how
it is being used and make decisions on how to improve it. You can
find out more about what data we collect and how it is used in the
PDK documentation at
https://puppet.com/docs/pdk/latest/pdk_install.html.
[Q 1/1] Do you consent to the collection of anonymous PDK usage information?
--&amp;gt; Yes
pdk (INFO): You can opt in or out of the usage data collection at any time by
editing the analytics configuration file at
C:\Users\vagrant\AppData\Local/puppet/analytics.yml and changing
the &amp;#39;disabled&amp;#39; value.
pdk (INFO): Creating new module: smb
We need to create the metadata.json file for this module, so we&amp;#39;re going to ask you 4 questions.
If the question is not applicable to this module, accept the default option shown after each question. You can modify any answers at any time by manually updating the metadata.json file.
[Q 1/4] If you have a Puppet Forge username, add it here.
We can use this to upload your module to the Forge when it&amp;#39;s complete.
--&amp;gt; michaeltlombardi
[Q 2/4] Who wrote this module?
This is used to credit the module&amp;#39;s author.
--&amp;gt; michaeltlombardi
[Q 3/4] What license does this module code fall under?
This should be an identifier from https://spdx.org/licenses/. Common values are &amp;#34;Apache-2.0&amp;#34;, &amp;#34;MIT&amp;#34;, or &amp;#34;proprietary&amp;#34;.
--&amp;gt; Apache-2.0
[Q 4/4] What operating systems does this module support?
Use the up and down keys to move between the choices, space to select and enter to continue.
--&amp;gt; Windows
Metadata will be generated based on this information, continue? Yes
pdk (INFO): Module &amp;#39;smb&amp;#39; generated at path &amp;#39;C:/Users/vagrant/smb&amp;#39;, from template &amp;#39;file:///C:/Program Files/Puppet Labs/DevelopmentKit/share/cache/pdk-templates.git&amp;#39;.
pdk (INFO): In your module directory, add classes with the &amp;#39;pdk new class&amp;#39; command.
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;code>cd smb ; code .&lt;/code>&lt;/li>
&lt;li>Update dependencies by editing the following files in VSCode:
&lt;ul>
&lt;li>&lt;code>.fixtures.yml&lt;/code>:
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="color:#ff79c6">fixtures&lt;/span>:
&lt;span style="color:#ff79c6">forge_modules&lt;/span>:
&lt;span style="color:#ff79c6">pwshlib&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;puppetlabs/pwshlib&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;code>.sync.yml&lt;/code> (you&amp;rsquo;ll need to create this file):
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="color:#ff79c6">Gemfile&lt;/span>:
&lt;span style="color:#ff79c6">optional&lt;/span>:
&lt;span style="color:#ff79c6">&amp;#39;:development&amp;#39;&lt;/span>:
- &lt;span style="color:#ff79c6">gem&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#39;ruby-pwsh&amp;#39;&lt;/span>
- &lt;span style="color:#ff79c6">gem&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#39;puppet-resource_api&amp;#39;&lt;/span>
&lt;span style="color:#ff79c6">spec/spec_helper.rb&lt;/span>:
&lt;span style="color:#ff79c6">mock_with&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#39;:rspec&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;code>metadata.json&lt;/code>:
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-json" data-lang="json">&lt;span style="color:#f1fa8c">&amp;#34;dependencies&amp;#34;&lt;/span>: [
{
&lt;span style="color:#ff79c6">&amp;#34;name&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;puppetlabs/pwshlib&amp;#34;&lt;/span>,
&lt;span style="color:#ff79c6">&amp;#34;version_requirement&amp;#34;&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#34;&amp;gt;= 0.4.0 &amp;lt; 2.0.0&amp;#34;&lt;/span>
}
],
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>pdk update&lt;/code>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): Updating michaeltlombardi-smb using the default template, from blog_tags/1.15.0 to 1.15.0
----------Files to be modified----------
Gemfile
spec/spec_helper.rb
----------------------------------------
You can find a report of differences in update_report.txt.
Do you want to continue and make these changes to your module? Yes
[*] Installing missing Gemfile dependencies.
------------Update completed------------
2 files modified.
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;code>pdk new provider smb_share&lt;/code>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): Creating &amp;#39;C:/Users/vagrant/smb/lib/puppet/provider/smb_share/smb_share.rb&amp;#39; from template.
pdk (INFO): Creating &amp;#39;C:/Users/vagrant/smb/lib/puppet/type/smb_share.rb&amp;#39; from template.
pdk (INFO): Creating &amp;#39;C:/Users/vagrant/smb/spec/unit/puppet/provider/smb_share/smb_share_spec.rb&amp;#39; from template.
pdk (INFO): Creating &amp;#39;C:/Users/vagrant/smb/spec/unit/puppet/type/smb_share_spec.rb&amp;#39; from template.
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>&lt;code>pdk bundle exec rake spec_prep&lt;/code>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): Using Ruby 2.5.7
pdk (INFO): Using Puppet 6.11.1
I, [2020-01-17T13:18:26.702383 #1696] INFO -- : Creating symlink from spec/fixtures/modules/smb to C:\Users\vagrant\smb
Notice: Preparing to install into C:/Users/vagrant/smb/spec/fixtures/modules ...
Notice: Downloading from https://forgeapi.puppet.com ...
Notice: Installing -- do not interrupt ...
C:/Users/vagrant/smb/spec/fixtures/modules
└── puppetlabs-pwshlib (v0.4.0)
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>Now we&amp;rsquo;re ready to really dig into writing our type and provider.&lt;/p>
&lt;h2 id="defining-the-initial-type">Defining the Initial Type&lt;/h2>
&lt;p>The type file, &lt;code>lib/puppet/type/smb_share.rb&lt;/code>, requires a little editing.
We&amp;rsquo;ll be adding some documentation and filling out the different properties of the SMB share we want to manage.&lt;/p>
&lt;p>Two properties are already provided for us in the &lt;code>attributes&lt;/code> key: &lt;code>ensure&lt;/code> and &lt;code>name&lt;/code>.
In order to get a minimum viable implementation for our share, we&amp;rsquo;ll need to implement &lt;code>path&lt;/code> as well.
Add the following hash to the list of attributes in the type file:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#f1fa8c">path&lt;/span>: {
&lt;span style="color:#f1fa8c">type&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#39;String&amp;#39;&lt;/span>,
&lt;span style="color:#f1fa8c">desc&lt;/span>: &lt;span style="color:#f1fa8c">&amp;#39;The path of the SMB share.&amp;#39;&lt;/span>,
},
&lt;/code>&lt;/pre>&lt;/div>&lt;p>This property is fairly simple to define - the path to the SMB share will always be a string.
For now, this is all we need to add to be able to implement the basic provider functionality.&lt;/p>
&lt;blockquote>
&lt;h4 id="note-1">Note:&lt;/h4>
&lt;p>We did not update the rest of the docs here - we will return to the documentation aspect in a future blog post when we expand the properties this type manages.&lt;/p>
&lt;/blockquote>
&lt;h2 id="writing-the-prototype-provider">Writing the Prototype Provider&lt;/h2>
&lt;p>The next file we need to look at is the provider, &lt;code>lib/puppet/provider/smb_share.rb&lt;/code>, which is where most of the heavy lifting will happen.&lt;/p>
&lt;!-- First, at the top of the file _just_ inside the provider class definition (after line 4), we need to confine this provider to only run on Windows machines when the ruby-pwsh library is available:
```ruby
class Puppet::Provider::SmbShare::SmbShare &lt; Puppet::ResourceApi::SimpleProvider
confine :operatingsystem => :windows
confine :feature => :pwshlib
``` -->
&lt;p>First, add a requires statement to the top of the file to ensure we have access to the PowerShell gem:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#8be9fd;font-style:italic">require&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;ruby-pwsh&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Next, inside the provider class definition, we need to add two new methods which make using the PowerShell gem&amp;rsquo;s manager easier:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#6272a4"># Returns a new instance of the PowerShell manager if one does not exist or is dead,&lt;/span>
&lt;span style="color:#6272a4"># otherwise returns the existing usable instance for performance reasons.&lt;/span>
&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">ps_manager&lt;/span>
debug_output &lt;span style="color:#ff79c6">=&lt;/span> Puppet&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">::&lt;/span>Log&lt;span style="color:#ff79c6">.&lt;/span>level &lt;span style="color:#ff79c6">==&lt;/span> &lt;span style="color:#f1fa8c">:debug&lt;/span>
Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Manager&lt;span style="color:#ff79c6">.&lt;/span>instance(Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Manager&lt;span style="color:#ff79c6">.&lt;/span>powershell_path, Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Manager&lt;span style="color:#ff79c6">.&lt;/span>powershell_args, &lt;span style="color:#f1fa8c">debug&lt;/span>: debug_output)
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;span style="color:#6272a4"># Wraps executions for the PowerShell Manager to do some basic error raising in Puppet.&lt;/span>
&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">invoke_command&lt;/span>(command)
result &lt;span style="color:#ff79c6">=&lt;/span> ps_manager&lt;span style="color:#ff79c6">.&lt;/span>execute(command)
&lt;span style="color:#ff79c6">raise&lt;/span> result&lt;span style="color:#ff79c6">[&lt;/span>&lt;span style="color:#f1fa8c">:errormessage&lt;/span>&lt;span style="color:#ff79c6">]&lt;/span> &lt;span style="color:#ff79c6">unless&lt;/span> result&lt;span style="color:#ff79c6">[&lt;/span>&lt;span style="color:#f1fa8c">:exitcode&lt;/span>&lt;span style="color:#ff79c6">].&lt;/span>zero?
result
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now, we&amp;rsquo;re ready to start implementing some functionality.&lt;/p>
&lt;h3 id="getting-the-shares">Getting the Shares&lt;/h3>
&lt;p>The information we need to retrieve about our shares was defined in our type file; right now, we need the name of the share, the path to the share, and whether or not it exists. To find out this information though, we&amp;rsquo;re going to need to do a little PowerShell:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">&lt;span style="color:#8be9fd;font-style:italic">Get-SMBShare&lt;/span> -ErrorAction Stop |
&lt;span style="color:#8be9fd;font-style:italic">Select-Object&lt;/span> -Property Name, Path
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Which in Ruby, using the PowerShell manager, would be:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">command &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">[&lt;/span>
&lt;span style="color:#f1fa8c">&amp;#39;Get-SMBShare -ErrorAction Stop&amp;#39;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#39;Select-Object -Property Name, Path&amp;#39;&lt;/span>,
&lt;span style="color:#ff79c6">].&lt;/span>join(&lt;span style="color:#f1fa8c">&amp;#39; | &amp;#39;&lt;/span>)
invoke_command(command)
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Here, we declare the commands in a Ruby array and join them with a &lt;code>|&lt;/code>.
This makes it easier for us to modify the commands we need to run without having to manage a huge string that&amp;rsquo;s hard to read.
This will return all of the SMB shares on the machine, but there&amp;rsquo;s a couple problems:&lt;/p>
&lt;ol>
&lt;li>We need to return JSON for easy translation to usable objects in ruby&lt;/li>
&lt;li>We need to add a property for Ensure - right now, we&amp;rsquo;re missing that third property.
We could add it either to the &lt;code>Select-Object statement&lt;/code> (as a name-expression hash with a static expression of &lt;code>'present'&lt;/code>) or to ruby afterwards.
For the purpose of this example, we&amp;rsquo;ll just add it to the Select-Object statement.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">properties &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">[&lt;/span>
&lt;span style="color:#f1fa8c">&amp;#39;Name&amp;#39;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#39;Path&amp;#39;&lt;/span>,
Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>custom_powershell_property(&lt;span style="color:#f1fa8c">&amp;#39;ensure&amp;#39;&lt;/span>, &lt;span style="color:#f1fa8c">&amp;#39;&amp;#34;present&amp;#34;&amp;#39;&lt;/span>),
&lt;span style="color:#ff79c6">].&lt;/span>join(&lt;span style="color:#f1fa8c">&amp;#39;, &amp;#39;&lt;/span>)
command &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">[&lt;/span>
&lt;span style="color:#f1fa8c">&amp;#39;Get-SMBShare -ErrorAction Stop&amp;#39;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#34;Select-Object -Property &lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>properties&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#34;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#39;ConvertTo-Json&amp;#39;&lt;/span>,
&lt;span style="color:#ff79c6">].&lt;/span>join(&lt;span style="color:#f1fa8c">&amp;#39; | &amp;#39;&lt;/span>)
result &lt;span style="color:#ff79c6">=&lt;/span> invoke_command(command)
Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>symbolize_hash_keys(Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>snake_case_hash_keys(JSON&lt;span style="color:#ff79c6">.&lt;/span>parse(result&lt;span style="color:#ff79c6">[&lt;/span>&lt;span style="color:#f1fa8c">:stdout&lt;/span>&lt;span style="color:#ff79c6">]&lt;/span>)))
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Notice we added a new &lt;code>properties&lt;/code> variable, in which we declare the properties we want to return on the SMB share and join them with a comma, which is how they&amp;rsquo;ll need to be passed to &lt;code>Select-Object&lt;/code>.
This lets us decouple the properties to select from the command itself and will make things more readable as we add more properties to manage.&lt;/p>
&lt;p>We&amp;rsquo;re also using a helper method (&lt;code>custom_powershell_property&lt;/code>) from the PowerShell gem to create a PowerShell hash representing a custom object property.
In this case, it will be:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">@{Name = &lt;span style="color:#f1fa8c">&amp;#39;ensure&amp;#39;&lt;/span>; Expression = {&lt;span style="color:#f1fa8c">&amp;#34;present&amp;#34;&lt;/span>}}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>It&amp;rsquo;s important to note that the string passed as the expression is &lt;em>exactly&lt;/em> what will be placed in the expression script block;
without the internal quotes, PowerShell would try to run a command called &lt;code>present&lt;/code> in the scriptlock and fail.&lt;/p>
&lt;p>For our command, the major changes are that we interpolate the properties list for Select-Object and ensure we convert our output to JSON before passing it back to Ruby.&lt;/p>
&lt;p>Finally, we want to capture the output of our command invocation so we can return the results.
The last line of this command is doing a &lt;em>bunch&lt;/em> of heavy lifting, so let&amp;rsquo;s break it down:&lt;/p>
&lt;ul>
&lt;li>&lt;code>result[:stdout]&lt;/code> - this is what we returned from our command pipeline - in this case, we told PowerShell to return us the SMB object with the properties we specified as a JSON string.&lt;/li>
&lt;li>&lt;code>JSON.parse()&lt;/code> - this is the Ruby method for converting from a JSON string to a Ruby hash, loosely analogous to &lt;code>ConvertFrom-Json&lt;/code> in PowerShell.&lt;/li>
&lt;li>&lt;code>Pwsh::Util.symbolize_hash_keys()&lt;/code> - this is a helper method for converting a Ruby hash&amp;rsquo;s keys from strings &lt;code>&amp;quot;key_name&amp;quot;&lt;/code> to symbols &lt;code>:key_name&lt;/code> which is necessary for returning values in a way that will neatly compare with what our type and provider are expecting.&lt;/li>
&lt;li>&lt;code>Pwsh::Util.snake_case_hash_keys()&lt;/code> - this is another helper method, this one converting a Ruby hash&amp;rsquo;s keys to a &lt;code>snake_case&lt;/code> from &lt;code>PascalCase&lt;/code>, &lt;code>camelCase&lt;/code>, or &lt;code>kebab-case&lt;/code>.
As with &lt;code>symbolize_hash_keys()&lt;/code>, this method helps ensure we&amp;rsquo;re returning a hash that our type/provider can neatly compare to.&lt;/li>
&lt;/ul>
&lt;p>So, if we put this all together for a ruby method to use in our provider, we&amp;rsquo;ll have:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">get_smb_share&lt;/span> &lt;span style="color:#6272a4"># rubocop:disable Style/AccessorMethodName&lt;/span>
properties &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">[&lt;/span>
&lt;span style="color:#f1fa8c">&amp;#39;Name&amp;#39;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#39;Path&amp;#39;&lt;/span>,
Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>custom_powershell_property(&lt;span style="color:#f1fa8c">&amp;#39;ensure&amp;#39;&lt;/span>, &lt;span style="color:#f1fa8c">&amp;#39;&amp;#34;present&amp;#34;&amp;#39;&lt;/span>),
&lt;span style="color:#ff79c6">].&lt;/span>join(&lt;span style="color:#f1fa8c">&amp;#39;, &amp;#39;&lt;/span>)
command &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">[&lt;/span>
&lt;span style="color:#f1fa8c">&amp;#39;Get-SMBShare -ErrorAction Stop&amp;#39;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#34;Select-Object -Property &lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>properties&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#34;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#39;ConvertTo-Json&amp;#39;&lt;/span>,
&lt;span style="color:#ff79c6">].&lt;/span>join(&lt;span style="color:#f1fa8c">&amp;#39; | &amp;#39;&lt;/span>)
result &lt;span style="color:#ff79c6">=&lt;/span> invoke_command(command)
Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>symbolize_hash_keys(Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>snake_case_hash_keys(JSON&lt;span style="color:#ff79c6">.&lt;/span>parse(result&lt;span style="color:#ff79c6">[&lt;/span>&lt;span style="color:#f1fa8c">:stdout&lt;/span>&lt;span style="color:#ff79c6">]&lt;/span>)))
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Note: We added a comment to tell rubocop, a tool for enforcing ruby style guidelines, to ignore this method&amp;rsquo;s name.
In Ruby, methods like &lt;code>get_smb_share&lt;/code> are normally just &lt;code>smb_share&lt;/code> - in this case, it will help PowerShell folx better understand what&amp;rsquo;s happening, so it makes sense to ignore the rule.&lt;/p>
&lt;/blockquote>
&lt;p>For now, this is good enough, so we&amp;rsquo;ll update the &lt;code>get&lt;/code> method in our provider to just call &lt;code>get_smb_share&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">get&lt;/span>(context)
context&lt;span style="color:#ff79c6">.&lt;/span>debug(&lt;span style="color:#f1fa8c">&amp;#39;Returning discovered SMB shares&amp;#39;&lt;/span>)
get_smb_share
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We can test that our code is working by running &lt;a href="https://puppet.com/docs/puppet/latest/man/resource.html">puppet resource&lt;/a>.&lt;/p>
&lt;blockquote>
&lt;p>Note that we&amp;rsquo;re using the PDK bundle for development purposes;
We&amp;rsquo;re also specifying the modulepath to a special folder in our repository;
This was created in the set up stage when you ran &lt;code>pdk bundle exec rake spec_prep&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">pdk bundle exec puppet resource smb_share --modulepath ./spec/fixtures/modules/
&lt;/code>&lt;/pre>&lt;/div>&lt;p>That should give you back information that looks like this:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): Using Ruby 2.5.7
pdk (INFO): Using Puppet 6.11.1
smb_share { &amp;#39;ADMIN$&amp;#39;:
path =&amp;gt; &amp;#39;C:\Windows&amp;#39;,
ensure =&amp;gt; &amp;#39;present&amp;#39;,
}
smb_share { &amp;#39;C$&amp;#39;:
path =&amp;gt; &amp;#39;C:\&amp;#39;,
ensure =&amp;gt; &amp;#39;present&amp;#39;,
}
smb_share { &amp;#39;IPC$&amp;#39;:
path =&amp;gt; &amp;#39;&amp;#39;,
ensure =&amp;gt; &amp;#39;present&amp;#39;,
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Later, when we start adding to our use case (managing, say, permissions) we will expand on this method.&lt;/p>
&lt;h3 id="creating-a-share">Creating a Share&lt;/h3>
&lt;p>Retrieving resources from a machine is useful, but not as useful as creating them, so let&amp;rsquo;s enable that functionality next.&lt;/p>
&lt;p>We&amp;rsquo;ll create a &lt;code>new_smb_share()&lt;/code> method that passes along the arguments we specified to the &lt;code>New-SmbShare&lt;/code> cmdlet:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">new_smb_share&lt;/span>(arguments)
arguments&lt;span style="color:#ff79c6">.&lt;/span>reject! { &lt;span style="color:#ff79c6">|&lt;/span>k, _v&lt;span style="color:#ff79c6">|&lt;/span> k&lt;span style="color:#ff79c6">.&lt;/span>to_s &lt;span style="color:#ff79c6">==&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;Ensure&amp;#39;&lt;/span> }
command &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">[&lt;/span>
&lt;span style="color:#f1fa8c">&amp;#34;$Arguments = &lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>format_powershell_value(arguments)&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#34;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#39;New-SmbShare @Arguments -ErrorAction Stop&amp;#39;&lt;/span>,
&lt;span style="color:#ff79c6">].&lt;/span>join(&lt;span style="color:#f1fa8c">&amp;#39; ; &amp;#39;&lt;/span>)
invoke_command(command)
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>The first thing we do is remove &lt;code>Ensure&lt;/code> from the hash of arguments passed to this method if it exists &amp;ndash; since we&amp;rsquo;re sending that hash to PowerShell for splatting and &lt;code>New-SmbShare&lt;/code> will have &lt;strong>no&lt;/strong> idea what to do with an &lt;code>Ensure&lt;/code> parameter, we need to make sure it gets removed.
The &lt;code>reject&lt;/code> method used here iterates over the &lt;code>arguments&lt;/code> hash for each key-value pair and filters out any pairs which match the condition; in this case, if the key is &lt;code>Ensure&lt;/code>.
In PowerShell, this is loosely analogous to doing something like:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">&lt;span style="color:#8be9fd;font-style:italic">$Arguments&lt;/span> = &lt;span style="color:#8be9fd;font-style:italic">$Should&lt;/span>
&lt;span style="color:#8be9fd;font-style:italic">$Arguments&lt;/span>.Remove(&lt;span style="color:#f1fa8c">&amp;#39;Ensure&amp;#39;&lt;/span>)
&lt;/code>&lt;/pre>&lt;/div>&lt;p>In the command array we can rely on another utility from the PowerShell gem: &lt;code>format_powershell_value&lt;/code> will convert a Ruby object into an appropriate PowerShell representation.
In this case, arguments is a hash and so will be represented as something like:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">@{KeyName = &lt;span style="color:#f1fa8c">&amp;#39;value&amp;#39;&lt;/span>; NextKey = 1}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We then rely on the hash table we stored in &lt;code>$Arguments&lt;/code> to enable us to do some &lt;a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_splatting?view=powershell-7">splatting&lt;/a>.
Finally, we join these commands with a semi-colon&amp;ndash;remember, each invocation against the Manager does &lt;em>not&lt;/em> share state with prior ones!&lt;/p>
&lt;p>Okay, great, but how do we pass the correct arguments to &lt;code>new_smb_share&lt;/code>?
We can do that with a little munging in the &lt;code>create&lt;/code> method:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">create&lt;/span>(context, &lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>, should)
context&lt;span style="color:#ff79c6">.&lt;/span>notice(&lt;span style="color:#f1fa8c">&amp;#34;Creating &amp;#39;&lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>&lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#39; with &lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>should&lt;span style="color:#ff79c6">.&lt;/span>inspect&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#34;&lt;/span>)
arguments &lt;span style="color:#ff79c6">=&lt;/span> Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>pascal_case_hash_keys(should)
new_smb_share(arguments)
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">new_smb_share&lt;/span>(arguments)
arguments&lt;span style="color:#ff79c6">.&lt;/span>reject! { &lt;span style="color:#ff79c6">|&lt;/span>k, _v&lt;span style="color:#ff79c6">|&lt;/span> k&lt;span style="color:#ff79c6">.&lt;/span>to_s &lt;span style="color:#ff79c6">==&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;Ensure&amp;#39;&lt;/span> }
command &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#ff79c6">[&lt;/span>
&lt;span style="color:#f1fa8c">&amp;#34;$Arguments = &lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>format_powershell_value(arguments)&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#34;&lt;/span>,
&lt;span style="color:#f1fa8c">&amp;#39;New-SmbShare @Arguments -ErrorAction Stop&amp;#39;&lt;/span>,
&lt;span style="color:#ff79c6">].&lt;/span>join(&lt;span style="color:#f1fa8c">&amp;#39; ; &amp;#39;&lt;/span>)
invoke_command(command)
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note that the create and update methods both specify the &lt;code>name&lt;/code> and something called &lt;code>should&lt;/code>; these are automatically handled and passed by Puppet during a run.
The &lt;code>should&lt;/code> variable is a Ruby hash representing the parameters specified for a given resource.
So if someone defined a manifest, it would include all of the properties and parameters for the specified SMB share included in that resource declaration.&lt;/p>
&lt;p>The notice will show up in the logs of a run, explaining what share is being created and specifying the parameters.&lt;/p>
&lt;p>We then pass the arguments hash to a utility function, &lt;code>pascal_case_hash_keys&lt;/code> converts them from the snake_case Ruby prefers to the PascalCase that PowerShell normally prefers;
though our current parameters are all single words, this will help us in the future should we want to specify something like the concurrent user limit on the SMB share.&lt;/p>
&lt;p>Once we&amp;rsquo;ve munged our arguments to be what we need we can pass them to our helper function, &lt;code>new_smb_share&lt;/code>.&lt;/p>
&lt;p>We can test this code by adding a manifest to our examples folder.
Create a new file, &lt;code>examples/basic.pp&lt;/code>, and paste the following into it:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-puppet" data-lang="puppet">&lt;span style="color:#8be9fd;font-style:italic">$share_path&lt;/span> &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#f1fa8c">&amp;#34;C:\\smb_share_folder_example_a&amp;#34;&lt;/span>
&lt;span style="color:#ff79c6">file&lt;/span> { &lt;span style="color:#8be9fd;font-style:italic">$share_path:&lt;/span>
&lt;span style="color:#50fa7b">ensure&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;directory&amp;#39;&lt;/span>
}
&lt;span style="color:#50fa7b">smb_share&lt;/span> { &lt;span style="color:#f1fa8c">&amp;#39;basic_example&amp;#39;&lt;/span>:
&lt;span style="color:#50fa7b">ensure&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">present&lt;/span>,
&lt;span style="color:#50fa7b">path&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$share_path,&lt;/span>
&lt;span style="color:#50fa7b">require&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">File&lt;/span>[&lt;span style="color:#8be9fd;font-style:italic">$share_path]&lt;/span>
}
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Note that we have to ensure that the directory we will use as the path for the SMB share&amp;ndash;if it doesn&amp;rsquo;t exist, the command will fail.&lt;/p>
&lt;p>Also note that VSCode will present you with a pop up in the bottom right corner asking if you want to add an extension for &lt;code>.pp&lt;/code> files - you &lt;em>absolutely&lt;/em> do want to add the &lt;a href="https://puppet-vscode.github.io/">Puppet Extension for VSCode&lt;/a> if you&amp;rsquo;re not already using it; it includes dozens of helpful features to make writing and maintaining Puppet code easier!&lt;/p>
&lt;/blockquote>
&lt;p>And then we&amp;rsquo;ll run a command &lt;em>with administrative privileges&lt;/em> (needed to create the SMB share) to execute this manifest:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">pdk bundle exec puppet apply ./examples/basic.pp --modulepath ./spec/fixtures/modules/
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Which should produce output like this:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): Using Ruby 2.5.7
pdk (INFO): Using Puppet 6.11.1
Notice: Compiled catalog for .mshome.net in environment production in 0.21 seconds
Notice: /Stage[main]/Main/File[C:\smb_share_folder_example_a]/ensure: created
Notice: /Stage[main]/Main/Smb_share[basic_example]/ensure: defined &amp;#39;ensure&amp;#39; as &amp;#39;present&amp;#39;
Notice: smb_share[basic_example]: Creating: Creating &amp;#39;basic_example&amp;#39; with {:name=&amp;gt;&amp;#34;basic_example&amp;#34;, :ensure=&amp;gt;&amp;#34;present&amp;#34;, :path=&amp;gt;&amp;#34;C:\\smb_share_folder_example_a&amp;#34;}
Notice: smb_share[basic_example]: Creating: Finished in 1.23 seconds
Notice: Applied catalog in 9.22 seconds
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Awesome! We&amp;rsquo;ve created an SMB share!
We can even verify this by rerunning the &lt;code>puppet resource&lt;/code> command from earlier:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">pdk bundle exec puppet resource smb_share --modulepath ./spec/fixtures/modules/
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): Using Ruby 2.5.7
pdk (INFO): Using Puppet 6.11.1
smb_share { &amp;#39;ADMIN$&amp;#39;:
path =&amp;gt; &amp;#39;C:\Windows&amp;#39;,
ensure =&amp;gt; &amp;#39;present&amp;#39;,
}
smb_share { &amp;#39;C$&amp;#39;:
path =&amp;gt; &amp;#39;C:\&amp;#39;,
ensure =&amp;gt; &amp;#39;present&amp;#39;,
}
smb_share { &amp;#39;IPC$&amp;#39;:
path =&amp;gt; &amp;#39;&amp;#39;,
ensure =&amp;gt; &amp;#39;present&amp;#39;,
}
smb_share { &amp;#39;basic_example&amp;#39;:
path =&amp;gt; &amp;#39;C:\smb_share_folder_example_a&amp;#39;,
ensure =&amp;gt; &amp;#39;present&amp;#39;,
}
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="removing-a-share">Removing a Share&lt;/h3>
&lt;p>Now, let&amp;rsquo;s figure out how to remove an SMB share.
Luckily, removing a share in PowerShell is straightforward:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">&lt;span style="color:#8be9fd;font-style:italic">Remove-SmbShare&lt;/span> -Name &lt;span style="color:#f1fa8c">&amp;#39;name of the share&amp;#39;&lt;/span> -Force
&lt;/code>&lt;/pre>&lt;/div>&lt;p>So we can write this in ruby leveraging the PowerShell manager:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">remove_smb_share&lt;/span>(&lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>)
command &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#f1fa8c">&amp;#34;Remove-SmbShare -Name &amp;#39;&lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>&lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#39; -Force -ErrorAction Stop&amp;#34;&lt;/span>
invoke_command(command)
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>And call it from the &lt;code>delete()&lt;/code> method:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">delete&lt;/span>(context, &lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>)
context&lt;span style="color:#ff79c6">.&lt;/span>notice(&lt;span style="color:#f1fa8c">&amp;#34;Deleting &amp;#39;&lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>&lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#39;&amp;#34;&lt;/span>)
remove_smb_share(&lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>)
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Let&amp;rsquo;s test our newly updated provider!
We can use &lt;code>puppet resource&lt;/code> to change the property of a managed resource&amp;ndash;in this case, we want to use &lt;code>ensure=absent&lt;/code> to remove the SMB share.
Remember, this needs to be run &lt;em>with&lt;/em> administrative privileges.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">pdk bundle exec puppet resource smb_share basic_example ensure=absent --modulepath ./spec/fixtures/modules
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): Using Ruby 2.5.7
pdk (INFO): Using Puppet 6.11.1
Notice: /Smb_share[basic_example]/ensure: undefined &amp;#39;ensure&amp;#39; from &amp;#39;present&amp;#39;
Notice: smb_share[basic_example]: Deleting: Deleting &amp;#39;basic_example&amp;#39;
Notice: smb_share[basic_example]: Deleting: Finished in 0.804902 seconds
smb_share { &amp;#39;basic_example&amp;#39;:
ensure =&amp;gt; &amp;#39;absent&amp;#39;,
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see a notification that the share has been removed.
Go ahead and rerun the manifest to recreate the share and prepare for our next step:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">pdk bundle exec puppet apply ./examples/basic.pp --modulepath ./spec/fixtures/modules/
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="updating-a-share">Updating a Share&lt;/h3>
&lt;p>While there are &lt;em>better&lt;/em> ways to manage updating SMB shares, the &lt;em>easiest&lt;/em> is to delete it and recreate it with the appropriate parameters passed through&amp;ndash;in fact, this is &lt;em>necessary&lt;/em> if you need to change the path of an SMB share.&lt;/p>
&lt;p>Luckily, we&amp;rsquo;ve already written the methods for creating and deleting the share so all we need to do is fill in the &lt;code>update&lt;/code> method:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-ruby" data-lang="ruby">&lt;span style="color:#ff79c6">def&lt;/span> &lt;span style="color:#50fa7b">update&lt;/span>(context, &lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>, should)
context&lt;span style="color:#ff79c6">.&lt;/span>notice(&lt;span style="color:#f1fa8c">&amp;#34;Updating &amp;#39;&lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>&lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#39; with &lt;/span>&lt;span style="color:#f1fa8c">#{&lt;/span>should&lt;span style="color:#ff79c6">.&lt;/span>inspect&lt;span style="color:#f1fa8c">}&lt;/span>&lt;span style="color:#f1fa8c">&amp;#34;&lt;/span>)
arguments &lt;span style="color:#ff79c6">=&lt;/span> Pwsh&lt;span style="color:#ff79c6">::&lt;/span>Util&lt;span style="color:#ff79c6">.&lt;/span>pascal_case_hash_keys(should)
remove_smb_share(&lt;span style="color:#8be9fd;font-style:italic">name&lt;/span>)
new_smb_share(arguments)
&lt;span style="color:#ff79c6">end&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Let&amp;rsquo;s modify the share path variable to end in &lt;code>b&lt;/code> instead of &lt;code>a&lt;/code>; this will cause Puppet to create a new folder, remove the original SMB share, and create a new one that uses the correct folder.&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-puppet" data-lang="puppet">&lt;span style="color:#8be9fd;font-style:italic">$share_path&lt;/span> &lt;span style="color:#ff79c6">=&lt;/span> &lt;span style="color:#f1fa8c">&amp;#34;C:\\smb_share_folder_example_b&amp;#34;&lt;/span>
&lt;span style="color:#ff79c6">file&lt;/span> { &lt;span style="color:#8be9fd;font-style:italic">$share_path:&lt;/span>
&lt;span style="color:#50fa7b">ensure&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#f1fa8c">&amp;#39;directory&amp;#39;&lt;/span>
}
&lt;span style="color:#50fa7b">smb_share&lt;/span> { &lt;span style="color:#f1fa8c">&amp;#39;basic_example&amp;#39;&lt;/span>:
&lt;span style="color:#50fa7b">ensure&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">present&lt;/span>,
&lt;span style="color:#50fa7b">path&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#8be9fd;font-style:italic">$share_path,&lt;/span>
&lt;span style="color:#50fa7b">require&lt;/span> &lt;span style="color:#ff79c6">=&amp;gt;&lt;/span> &lt;span style="color:#ff79c6">File&lt;/span>[&lt;span style="color:#8be9fd;font-style:italic">$share_path]&lt;/span>
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>And then rerun the manifest:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-powershell" data-lang="powershell">pdk bundle exec puppet apply ./examples/basic.pp --modulepath ./spec/fixtures/modules/
&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see a line like this in your Puppet output:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">pdk (INFO): Using Ruby 2.5.7
pdk (INFO): Using Puppet 6.11.1
Notice: Compiled catalog for .mshome.net in environment production in 0.21 seconds
Notice: /Stage[main]/Main/File[C:\smb_share_folder_example_b]/ensure: created
Notice: /Stage[main]/Main/Smb_share[basic_example]/path: path changed &amp;#39;C:\smb_share_folder_example_a&amp;#39; to &amp;#39;C:\smb_share_folder_example_b&amp;#39;
Notice: smb_share[basic_example]: Updating: Updating &amp;#39;basic_example&amp;#39; with {:name=&amp;gt;&amp;#34;basic_example&amp;#34;, :ensure=&amp;gt;&amp;#34;present&amp;#34;, :path=&amp;gt;&amp;#34;C:\\smb_share_folder_example_b&amp;#34;}
Notice: smb_share[basic_example]: Updating: Finished in 1.67 seconds
Notice: Applied catalog in 9.23 seconds
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="wrapping-up">Wrapping Up&lt;/h2>
&lt;p>Hooray! We&amp;rsquo;ve written a functional implementation of a type and provider for an SMB Share using the PowerShell gem and manager!
Next time, we&amp;rsquo;re going to expand on our start here to make sure we are able to fully manage the properties and access of an SMB share, so stay tuned!&lt;/p></description></item></channel></rss>