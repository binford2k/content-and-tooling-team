<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Content and Tooling – approved</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog_tags/approved/</link><description>Recent content in approved on Content and Tooling</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Fri, 21 Feb 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://puppetlabs.github.io/content-and-tooling-team/blog_tags/approved/index.xml" rel="self" type="application/rss+xml"/><item><title>Blog: 21st Feb 2020: IAC Team Status Update</title><link>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-02-21-status-update/</link><pubDate>Fri, 21 Feb 2020 00:00:00 +0000</pubDate><guid>https://puppetlabs.github.io/content-and-tooling-team/blog/updates/2020-02-21-status-update/</guid><description>
&lt;p>The IAC team has been working on a lot of interesting things over the past week.
Here&amp;rsquo;s a brief overview of what we&amp;rsquo;ve been up to:&lt;/p>
&lt;h2 id="updates-to-puppet-modules">Updates to Puppet Modules&lt;/h2>
&lt;p>We&amp;rsquo;ve released only one module since last week:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://forge.puppet.com/puppetlabs/java">puppetlabs/java&lt;/a> (v6.2.0)&lt;/li>
&lt;/ul>
&lt;h2 id="community-contributions">Community Contributions&lt;/h2>
&lt;p>Thanks to &lt;a href="https://github.com/baurmatt">@baurmatt&lt;/a> for his change to the concat module,
&lt;a href="https://github.com/puppetlabs/puppetlabs-concat/pull/627">adding support for Deferred function in concat fragment&lt;/a>.&lt;/p>
&lt;h2 id="approved-modules">Approved Modules&lt;/h2>
&lt;p>This week we happily approved two new modules:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://forge.puppet.com/fervid/secure_linux_cis">fervid/secure_linux_cis&lt;/a> is a CIS hardening module for Linux servers by &lt;a href="https://www.fervid.us/">fervid.us&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://forge.puppet.com/stackstorm/st2">stackstorm/st2&lt;/a> installs, configures and manages the eponymous &lt;a href="https://stackstorm.com">StackStorm&lt;/a> platform for event-driven runbook automation.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://forge.puppet.com/approved">Puppet Approved&lt;/a> modules are recommended by us for use with Puppet Open Source and Puppet Enterprise and meet our expectations for quality and usability.&lt;/p>
&lt;h2 id="new-puppet-modulebuilder-gem">New puppet-modulebuilder Gem&lt;/h2>
&lt;p>Work &lt;a href="https://tickets.puppetlabs.com/browse/IAC-532">has started&lt;/a> on creating a &lt;a href="https://github.com/puppetlabs/puppet-modulebuilder">puppet-modulebuilder&lt;/a> gem.
This will carry the actual functionality for &lt;code>pdk build&lt;/code> and allow third-party tools to re-use the same functionality without having to pull in the whole PDK.
We expect a first release early next week.
Follow &lt;a href="https://tickets.puppetlabs.com/browse/IAC-552">IAC-552&lt;/a> to get a notification when that happens.&lt;/p>
&lt;p>Thanks a lot to &lt;a href="https://github.com/glennsarti">Glenn&lt;/a> for helping out with the actual porting of the code.&lt;/p>
&lt;h2 id="ongoing-litmus-conversions">Ongoing Litmus Conversions&lt;/h2>
&lt;p>This week saw a flurry of PRs (through &lt;a href="https://github.com/puppetlabs/pdksync">pdksync&lt;/a>) to &lt;a href="https://tickets.puppetlabs.com/browse/IAC-215">update all our modules&lt;/a> to use the new &lt;code>use_litmus&lt;/code> support in &lt;a href="https://github.com/puppetlabs/pdk-templates">pdk-templates&lt;/a>.
This reduces the amount of configuration we need to carry in each module and validates the pdk-templates feature.&lt;/p>
&lt;p>As expected, the last remaining modules to convert to &lt;a href="https://github.com/puppetlabs/puppet_litmus">Litmus&lt;/a> were the ones we didn&amp;rsquo;t want to touch earlier for good reasons.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-powershell/pull/283">powershell&lt;/a> has been merged and is now running acceptance tests on Windows (appveyor), Linux and OS X (travis) in public.&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-sqlserver/pull/345">sqlserver&lt;/a> is still resisting,
not the least because we found several areas where the previous test suite was ignoring warnings that we now want to address.&lt;/li>
&lt;li>&lt;a href="https://github.com/puppetlabs/puppetlabs-vsphere/pull/172">vsphere&lt;/a> is progressing.
We don&amp;rsquo;t expect to enable PR-level testing on this one,
since it does require access to our internal VCenter.&lt;/li>
&lt;/ul>
&lt;p>If you&amp;rsquo;re interested in porting a module to Litmus,
feel free to reach out to us during &lt;a href="https://puppet.com/community/office-hours/">Office Hours&lt;/a> - we&amp;rsquo;ll be glad to help!&lt;/p>
&lt;p>We&amp;rsquo;re also looking into updating litmus to make use of &lt;a href="https://github.com/puppetlabs/bolt/blob/master/CHANGELOG.md#bolt-200">Bolt v2&lt;/a>.
See &lt;a href="https://github.com/puppetlabs/puppet_litmus/pull/254">puppetlabs/puppet_litmus#254&lt;/a> if you want to follow along.&lt;/p>
&lt;p>This week also saw a number of ruby &lt;a href="https://travis-ci.org/puppetlabs/puppetlabs-mysql/jobs/653408974">segfaults&lt;/a> and &lt;a href="https://travis-ci.org/puppetlabs/puppetlabs-mysql/jobs/652904009">deadlocks&lt;/a> during acceptance testing:&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">448.03s$ bundle exec rake litmus:acceptance:parallel
Running against 3 targets.
./home/travis/build/puppetlabs/puppetlabs-mysql/vendor/bundle/ruby/2.5.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/atomic/ruby_thread_local_var.rb:113: [BUG] Segmentation fault at 0x000000000b4d76d5
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
&lt;/code>&lt;/pre>&lt;/div>&lt;p>or&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-text" data-lang="text">$ bundle exec rake litmus:acceptance:parallel
Running against 2 targets.
.
No output has been received in the last 10m0s, this potentially indicates a stalled build or something wrong with the build itself.
Check the details on how to adjust your build configuration on: https://docs.travis-ci.com/user/common-build-problems/#build-times-out-because-no-output-was-received
The build has been terminated
&lt;/code>&lt;/pre>&lt;/div>&lt;p>We&amp;rsquo;re still working on figuring out what changed recently to trigger these.&lt;/p>
&lt;h2 id="refactoring-stdlib-to-puppet4-function-api">Refactoring stdlib to Puppet4 function API&lt;/h2>
&lt;p>Off the back of Ben&amp;rsquo;s &lt;a href="https://binford2k.com/2019/11/27/automagic-function-port/">blog on the Puppet4 function API&lt;/a>,
work has started to move all functions in the &lt;a href="https://forge.puppet.com/puppetlabs/stdlib">stdlib module&lt;/a> to the &amp;ldquo;new&amp;rdquo; API.
To quote Ben:&lt;/p>
&lt;blockquote>
&lt;p>Each modern Puppet 4.x function is just a little faster and just a little safer
to use, meaning that as we all port our functions over, compilation times across
the ecosystem will get more and more performant. Modern Puppet 4.x functions
have improved thread safety, memory management, and load time. Even more
importantly, they’re isolated to the environment they’re loaded from.&lt;/p>
&lt;p>And as a developer, you&amp;rsquo;ll see benefits like namespaced function signatures,
automatic data type checking, multiple dispatches allowing you to easily handle
different kinds of function invocations, and vastly improved code reuse.&lt;/p>
&lt;/blockquote>
&lt;p>If you want to follow along or provide feedback,
please avail yourself of &lt;a href="https://tickets.puppetlabs.com/browse/IAC-114">IAC-114&lt;/a>.&lt;/p></description></item></channel></rss>